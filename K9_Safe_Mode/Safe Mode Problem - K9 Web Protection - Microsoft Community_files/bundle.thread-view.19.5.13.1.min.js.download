function isElementVisisbleInViewport(n){typeof jQuery=="function"&&n instanceof jQuery&&(n=n[0]);var i=!1,t=$("#Footer");return t.length>0&&t.offset()&&(i=$(document).scrollTop()+$(window).height()>t.offset().top),i}function onFooterVisibleInViewPort(){var n=$("#PageFooter");return function(){var t=isElementVisisbleInViewport(n);t?(n.removeClass("footeroutside"),n.addClass("footerinside")):(n.addClass("footeroutside"),n.removeClass("footerinside"))}}var Answers,answersResDefined,answersUtilDefined;String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return this.substr(!t||t<0?0:+t,n.length)===n}),function(n){n.fn.GetTextRemainsElement=function(){var r=n(this),i=null,t=r.attr("id");return t!=undefined&&t!=null&&t.length>0&&(i=n("#"+t+"_remains")),i};n.fn.SetTextRemainContent=function(){var i=n(this),r=parseInt(i.attr("maxlength"),10),t=i.val(),u=t.length;u>r&&(t=n.trim(t),u=t.length,u>r&&(t=t.substring(0,r),i.val(t),u=r));var f=i.GetTextRemainsElement(),e=f.attr("format"),o=(r-u).toString();return e.length>0?f.text(e.replace("{0}",o)):f.text(o),i};n.fn.SetInputTextLength=function(){var t=n(this),i=t.attr("maxlength"),r,u;return i?(i=parseInt(i,10),i<1)?t:(r=t.GetTextRemainsElement(),r==null||r.length<1)?t:(u=function(){t.SetTextRemainContent()},t.keyup(u),t.mouseup(u),t):t};n.fn.getFocusable=function(){var n=this;return n.find("[tabindex]").not("[tabindex='-1']").add(n.find("a:visible, button:visible, input:visible, select:visible, textarea:visible, iframe:visible").not("input[type='hidden']"))};n.fn.hideMsaButton=function(){var t=n(this),i=t.closest("div.buttons-container"),r=n("a:visible, button:visible, input:visible",i).length;return t.filter(":visible").length===0?t:(i&&i.length>0&&r>=3&&i.removeClass("stack-layout"),t.hide(),t)};n.fn.showMsaButton=function(){var t=n(this),i=t.closest("div.buttons-container"),r=n("a:visible, button:visible, input:visible",i).length;return t.filter(":visible").length>0?t:(i&&i.length>0&&r>=2&&i.addClass("stack-layout"),t.show(),t)}}(jQuery);typeof Answers=="undefined"&&(Answers={});Answers.Util={ConfirmDialogType:{SubmitCancel:0,YesNo:1,OkCancel:2},ReadOnlyErrorHandled:!1,ScrollToTop:function(){$(document).scrollTop(0)},ShowInfoPanel:function(n,t,i){var f=n.closest(n.data("panelcontainer")),r=$(n.data("paneltarget"),f);r.hide();var u=function(){r.toggle(400);n.focus()},e=function(){$(".message-user-info-link-history, button.info-panel-close-button",r).add(n).off("click.infopanel").on("click.infopanel",u)},o="<div class='info-panel-dropdown'><div class='clearBoth info-panel'><span class=\"info-panel-heading-button\"><button id='info-panel-close-button' class='info-panel-close-button' aria-label='"+Answers.Res.Close+"'><span class='c-glyph glyph-cancel x-hidden-focus' aria-label='"+Answers.Res.Close+"'tabindex='1'><\/span><\/button><h4 class=\"c-heading-4\">"+t.headerTitle+"<\/h4><\/span><div class='info-panel-content'>"+r.html()+"<\/div><\/div><\/div>";r.html(o);i===!0&&u();e()},NavigateTo:function(n,t){n&&(t&&(n=n+"?"+$.param(t)),window.location.href=n)},CompareStringsLocale:function(n,t,i){try{return n.localeCompare(t,i)}catch(r){return CompareStrings(n,t)}},CompareStrings:function(n,t){if(typeof n=="string"&&typeof t=="string")return n>t?1:n<t?-1:0;throw"Objects are not strings";},GetBaseUrl:function(){return window.location.origin},ReplaceUrlParam:function(n,t,i){var u,f,r;return!n||!t?n:(u=Answers.Util.GetUrlParameterValue(n,t),!u&&i==="")?n:u&&u.toLowerCase()===i.toLowerCase()?n:(f=new RegExp("("+t+"=).*?(&|$)"),r=n.replace(f,"$1"+i+"$2"),r==n&&(r=r+(r.indexOf("?")>0?"&":"?")+t+"="+i),r)},GetUrlParameterValue:function(n,t){var f=n.split("?")[1],r,i,u;if(f)for(r=f.split("&"),i=0;i<r.length;i++)if(u=r[i].split("="),u[0]==t)return u[1]},ShowDialog:function(n,t,i){var u={url:null,refresh:!1,data:null,focusBack:null},r=null,f;return($.extend(u,t),f=function(n){var i;return mwf.ComponentFactory.create([{c:mwf.Dialog,elements:[document.querySelector(n.selector)],callback:function(n){n&&n.length&&(i=n[0])}}]),i&&t&&t.focusBack!==null&&$(t.focusBack).length>0&&i.subscribe({onHidden:function(){$(t.focusBack).focus()}}),i},n.length===0&&u.url&&typeof u.url=="string"||u.refresh===!0)?Answers.Util.GetDialog(n,u).then(function(){return r=f(n),i&&i(),r.show(),r}):(r=f(n),i&&i(),r.show(),r)},GetDialog:function(n,t){return $.ajax(t.url,{data:t.data,cache:!1,success:function(t){n.remove();$("body").append(t)},dataType:"html"})},DialogClose:function(n){$(".dlgCloseBtn",n).on("click",function(n){$(this).hasClass("disabled")||(Answers.Util.HideDialog($(this).closest(".c-dialog")),n.stopPropagation())})},ShowSimpleDialog:function(n,t){var i=$("#SimpleMsgDialog");$(".dialogTitleText",i).text(n);$("#SimpleMsgDialogContent").html(t);Answers.Util.ShowDialog(i)},ShowSimpleConfirm:function(n,t,i,r){r!==undefined&&(r===Answers.Util.ConfirmDialogType.YesNo?($("#confirmSubmitBtn").text(Answers.Res.Yes).prop("title",Answers.Res.Yes),$("#confirmCancelBtn").text(Answers.Res.No).prop("title",Answers.Res.No)):r===Answers.Util.ConfirmDialogType.OkCancel&&($("#confirmSubmitBtn").text(Answers.Res.Ok).prop("title",Answers.Res.Ok),$("#confirmCancelBtn").text(Answers.Res.Cancel).prop("title",Answers.Res.Cancel)));var u=$("#SimpleConfirmDialog");$(".dialogTitleText").text(n);$("#SimpleConfirmDialogContent").text(t);Answers.Util.ShowDialog(u,[],i)},HideDialog:function(n,t){return setTimeout(function(){t&&t.length>0?t.focus():n.data("focusBack")!=null&&$(n.data("focusBack")).focus()}),n.trigger("closing"),n.attr("aria-hidden","true")},OpenWindow:function(n,t,i,r){var e=window.screenLeft!=undefined?window.screenLeft:screen.left,o=window.screenTop!=undefined?window.screenTop:screen.top,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,h=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,u=s/2-i/2+e,f=h/2-r/2+o,l="location=1,menubar=0,toolbar=0,scrollbars=1,status=0,resizable=1,height="+r+",width="+i+",top="+f+",left="+u,c=window.open(n,t,"scrollbars=yes, width="+i+", height="+r+", top="+f+", left="+u);window.focus&&c.focus()},HandleActionsForDropdown:function(n,t,i){switch(n.which){case 1:case 13:case 32:case 40:t(i)}},ReloadPage:function(n){n||(n=window.location.pathname,window.location.search.length>1&&(n+=window.location.search),window.location.hash.length>0&&(n+=window.location.hash));var t=Answers.Util.AddParamValue(n,"tm",(new Date).getTime());typeof DataCollectionObj!="undefined"&&DataCollectionObj&&DataCollectionObj.options&&(DataCollectionObj.options.targetUrl=t);window.location=t},ValidateTextarea:function(n,t,i,r,u){var f=Answers.Editor.Text(n),e=Answers.Editor.Content(n),o,s;return f.length<t||e.length<t||f.length>i||e.length>i?(o=f.length>i||e.length>i?Math.max(f.length,e.length):Math.min(f.length,e.length),s=r.replace("{0}",o),$("#"+u).text(s).show(),!1):!0},ValidateTextbox:function(n,t,i,r,u){var f=$("#"+n),o=f,e,s;return(f.attr("type")!="text"&&(o=f.parent()),o.removeClass("errorValidation"),e=$("#"+r),e.hide(),s=$.trim(f.val()),s.length<t||s.length>i)?(o.addClass("errorValidation"),u?e.show().text(u):e.show(),!1):!0},ValidateTextboxRegEx:function(n,t,i){var r=$("#"+n),u=r,f,e,o;return(r.attr("type")!="text"&&(u=r.parent()),u.removeClass("errorValidation"),f=$("#"+i),f.hide(),e=$.trim(r.val()),o=new RegExp(t),!o.test(e))?(u.addClass("errorValidation"),f.css("display","inline"),!1):!0},ValidateGUID:function(n){return/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/.test(n)},ValidateEmail:function(n){var t=new RegExp(Answers.Res.EmailRegex,"i");return t.test(n)},HtmlEncode:function(n){return $("<div/>").text(n).html()},ValidateUrl:function(n){return/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(n)},ValidateSelectVal:function(n,t,i){var u=$("#"+n),f=u.parent(),r=null,e=$.trim(u.val());return(typeof i!="undefined"&&(r=$("#"+i)),e==t)?(f.addClass("errorValidation"),r!=null&&r.show(),!1):(f.removeClass("errorValidation"),r!=null&&r.hide(),!0)},GetCookie:function(n,t){var u,f,r,i;if(n){for(r=document.cookie.split(";"),i=0;i<r.length;i++)if(u=r[i].substring(0,r[i].indexOf("=")),u.charAt(0)==" "&&(u=u.substring(1,u.length)),n===u){f=r[i].substring(r[i].indexOf("=")+1,r[i].length);break}if(!f)return"";if(!t)return f;for(r=f.split("&"),i=0;i<r.length;i++)if(u=r[i].substring(0,r[i].indexOf("=")),u.charAt(0)==" "&&(u=u.substring(1,u.length)),t===u)return r[i].substring(r[i].indexOf("=")+1,r[i].length)}},SetCookie:function(n,t,i,r,u){this.SetCookieWithExpiration(n,t,i,r?525600:null,u)},SetFlightFromMetaTag:function(){var r=document.getElementsByTagName("meta"),t=null,n,f,u;for(i=0;i<r.length;i++)r[i].name==="awa-flightNames"&&(t=r[i].content);n=window.location.hostname.split(".");f=n.length>1?"."+n[n.length-2]+"."+n[n.length-1]:"."+n[0];u=new Date;u.setFullYear(u.getFullYear()+1);t!=null&&t!=""&&t.length>0&&Answers.Util.SetCookie("cap_f",t,null,!0,f)},CheckForMUIDMetaTag:function(){window&&window.awa&&window.awa.ids&&!window.awa.ids.getMuidUserId()&&!Answers.CookieCompliance.IsCookieConsentRequired&&this.TrySetMuidCookieFromPageTag()},FetchMuidFromMetaTag:function(){var n=document.getElementsByTagName("meta"),t=null;if(this.SessionStorage.Get("MUID")!==null&&this.SessionStorage.Get("MUID").length>0)return this.SessionStorage.Get("MUID");for(i=0;i<n.length;i++)n[i].name==="awa-muid"&&(t=n[i].content);return this.SessionStorage.Set("MUID",t),t},TrySetMuidCookieFromPageTag:function(){var i=this.FetchMuidFromMetaTag(),n,r,t;i.length>0?(n=window.location.hostname.split("."),r=n.length>1?"."+n[n.length-2]+"."+n[n.length-1]:"."+n[0],t=new Date,t.setFullYear(t.getFullYear()+1),Answers.Util.SetCookie("MUID",i,null,!0,r)):console.log("No MUID meta tag detected, can not set MUID cookie")},SetCookieWithExpiration:function(n,t,i,r,u){var o,h,e,s;if(n){var f="",c="",l="",v=new Date,a;if(r&&(r=r*6e4,a=new Date(v.getTime()+r),c="; expires="+a.toUTCString()),u&&(l="; domain="+u),f=this.GetCookie(n),f&&i)if(h=!1,f.indexOf("=")>-1){for(e=f.split("&"),s=0;s<e.length;s++)if(o=e[s].substring(0,e[s].indexOf("=")),o.charAt(0)==" "&&(o=o.substring(1,o.length)),i===o){e[s]=i+"="+t;f=e.join("&");h=!0;break}h||(e.length>0&&(f+="&"),f+=i+"="+t)}else f=i+"="+t;else if(!f&&i)f=i+"="+t;else{if(i)return;f=t}document.cookie=n+"="+f+c+l+"; path=/"}},SetCookieWithMaxEntries:function(n,t,r,u,f){var s=Answers.Util.GetCookie(n),h=r+"="+t,e,o,c;if(s.length>0){for(e=s.split("&"),o=[],o.push(r+"="+t),i=0;i<e.length;i++)if(c=$.trim(e[i].substring(0,e[i].indexOf("="))),c!=r&&o.push(e[i]),o.length>=u)break;h=o.join("&")}Answers.Util.SetCookie(n,h,null,f)},ExpireCookie:function(n,t){if(n){var r="",i=new Date,u="; expires="+i.toGMTString(i.setFullYear(i.getFullYear()-1));t&&(r="; domain="+t);document.cookie=n+"="+u+r+"; path=/"}},QueryStringTable:null,QueryString:function(n){var i,e,r,u,f,t;if(n=n.toLowerCase(),Answers.Util.QueryStringTable!=null)return Answers.Util.QueryStringTable[n];for(i=document.location.search.toString(),i.length>0&&(i=i.substring(1)),Answers.Util.QueryStringTable={},e=i.split("&"),f=0;f<e.length;f++)if(t=e[f].split("="),t.length==2&&t[1]!=""){try{r=decodeURI(t[0]).toLowerCase();u=decodeURI(t[1])}catch(o){r=unescape(t[0]).toLowerCase();u=unescape(t[1])}Answers.Util.QueryStringTable[r]?Answers.Util.QueryStringTable[r]+=", "+u:Answers.Util.QueryStringTable[r]=u}return Answers.Util.QueryStringTable[n]},SetTimeZoneOffset:function(){var n=null,i=Answers.Util.GetCookie("tzo"),t;i!=null&&(n=parseInt(i));t=(new Date).getTimezoneOffset();(n==null||isNaN(n)||n!=t)&&(Answers&&Answers.CookieCompliance&&Answers.CookieCompliance.IsCookieConsentRequired||Answers.Util.SetCookie("tzo",t,null,!0))},ValidatePageOnlyNumbers:function(n,t){t=typeof t=="undefined"?"":t+" ";$(t+".pageError").children().hide();n.value.match(/[^0-9]/)&&($(t+".pageErrorOnlyNumbers").show(),n.value=n.value.replace(/[^0-9]/g,""));n.value.length>4&&($(t+".pageErrorLower").show(),n.value=n.value.substring(0,4))},ValidatePageValue:function(n,t,i,r,u){if(n.keyCode==13)if(i=parseInt(i,10),r=parseInt(r,10),t=parseInt(t,10),u=typeof u=="undefined"?"":u+" ",$(u+".pageError").children().hide(),t==i||t<0)$(u+".pageErrorNotAvailable").show();else if(t>r&&r>0)$(u+".pageErrorLower").show();else return t;return 0},PadZeros:function(n,t){for(var i=n+"";i.length<t;)i="0"+i;return i},AddParamValue:function(n,t,i){var f,u,r,e;return n.indexOf(t+"=")>0?(f=new RegExp(t+"=\\w+","i"),n=n.replace(f,t+"="+i)):(u="",r=n.indexOf("#"),r>=0&&(u=n.substr(r),n=n.substr(0,r)),e=n.indexOf("?")>=0?"&":"?",n+=e+t+"="+i+u),n},CallScript:function(n,t,i){i=typeof i=="function"?i:function(){};n?$.ajax({cache:!0,dataType:"script",url:t}).always(i):i()},IsElementInView:function(n){var t=document.documentElement.scrollTop||document.body.scrollTop,i=$(n).offset().top,r=$(n).height(),u=window.innerHeight&&window.innerHeight<$(window).height()?window.innerHeight:$(window).height();return i>t&&r+i<t+u},Increment:function(n,t){if(!(n.length<=0)){var r=parseInt($(n[0]).text()),i=isNaN(r)?t:r+t;return n.text(i>0?i:""),i}},DisableReadOnlyClick:function(){$(".disabled").on("click",function(){return!1})},UpdateCreateThreadLink:function(n,t,i){var u=$(n),e,o;if(u.length!==0){var f=u.attr("href"),s=Answers.Util.GetUrlParameterValue(f,"threadtype"),h=Answers.Util.GetUrlParameterValue(f,"cancelurl"),c={threadtype:s,cancelurl:h,forum:t,filter:i},r=document.createElement("a");r.href=f;e=r.pathname.match("^/")==null?"/"+r.pathname:r.pathname;o="https://"+r.hostname+e+"?"+decodeURIComponent($.param(c));u.attr("href",o)}},UpdateLanguagePlaceholderInLinks:function(n,t){if(t===undefined||t.length!=0){var i=$(n);i.length>0&&i.each(function(){var i=$(this),n=i.attr("href"),r;n&&n.indexOf("/lang/")>-1&&(r=n.replace("/lang/","/"+t+"/"));i.attr("href",r)})}},LocalStorage:{Set:function(n,t){window.localStorage&&window.localStorage.setItem(n,t)},Get:function(n){return window.localStorage?window.localStorage.getItem(n):null}},SessionStorage:{Set:function(n,t){window.sessionStorage&&window.sessionStorage.setItem(n,t)},Get:function(n){return window.sessionStorage?window.sessionStorage.getItem(n):null}}};Answers.Logging=Answers.Logging||{};Answers.Voting={AnonymousVote:function(n,t,i,r){var u=Answers.Util.GetCookie("anonymous-votes"),f;if(u!=""){if(u.split(",").length===Answers.Res.AnonymousVoting.MinimumVoteLimit-1||u.split(",").length===Answers.Res.AnonymousVoting.MaximumVoteLimit-1){Answers.Util.ShowDialog($("#anonymousVote"),{url:Answers.Res.AnonymousVoting.ThreadUrl,refresh:!0},function(){var u=window.location.href;Answers.Voting.SignIn($("#anonymousVote"),u,n,t,i,r)});Answers.Auth.PerformNextActionWithoutSignIn(n,t,i);return}if(u.split(",").length>=Answers.Res.AnonymousVoting.MaximumVoteLimit){f=window.location.href;Answers.Voting.PerformNextAction(f,n,t,i,r);return}Answers.Auth.PerformNextActionWithoutSignIn(n,t,i)}else Answers.Auth.PerformNextActionWithoutSignIn(n,t,i)},PerformNextAction:function(n,t,i,r){if(t!=null){if(!Answers.CookieCompliance.IsCookieConsentRequired){var u="rtAction",f=(new Date).getTime();Answers.Util.SetCookie(u,f,"timestamp",!1);Answers.Util.SetCookie(u,t,"nextAction",!1);Answers.Util.SetCookie(u,i,"actionItemId",!1);Answers.Util.SetCookie(u,r,"subActionId",!1);Answers.Util.SetCookie(u,r,"subActionId2",!1)}n=Answers.Util.AddParamValue(n,"rtAction",f)}Answers.CookieCompliance.IsCookieConsentRequired||Answers.Util.SetCookie("rtPage",n,null,!1,document.domain);window.location.href=Answers.Res.SignInUrl},SignIn:function(n,t,i,r,u,f){$("#voteSignIn",n,t,i,r,u,f).on("click.signIn",function(){Answers.Util.HideDialog($("#voteSignIn"));Answers.Voting.PerformNextAction(t,i,r,u,f)})}};Answers.Auth={IsAuthenticated:function(){return $("#IsAuthenticated").val()==="true"},NotSignedInThen:function(n,t,i,r){Answers.Voting.AnonymousVote(n,t,i,r)},SignInThen:function(n,t,i,r){var f,u,e;Answers.Auth.IsAuthenticated()===!0?Answers.Auth.PerformNextAction(n,t,i,r):(f=window.location.href,n!=null&&(u="rtAction",e=(new Date).getTime(),Answers.CookieCompliance.IsCookieConsentRequired||(Answers.Util.SetCookie(u,e,"timestamp",!1),Answers.Util.SetCookie(u,n,"nextAction",!1),Answers.Util.SetCookie(u,t,"actionItemId",!1),Answers.Util.SetCookie(u,i,"subActionId",!1),Answers.Util.SetCookie(u,r,"subActionId2",!1)),f=Answers.Util.AddParamValue(f,"rtAction",e)),Answers.CookieCompliance.IsCookieConsentRequired||Answers.Util.SetCookie("rtPage",f,null,!1,document.domain),window.location.href=Answers.Res.SignInUrl)},CheckNextAction:function(){var t,n,i;if(Answers.Auth.IsAuthenticated()===!0&&(t=Answers.Util.QueryString("rtAction"),t!=null&&(n="rtAction",i=Answers.Util.GetCookie(n,"timestamp"),i==t))){var r=Answers.Util.GetCookie(n,"nextAction"),u=Answers.Util.GetCookie(n,"actionItemId"),f=Answers.Util.GetCookie(n,"subActionId"),e=Answers.Util.GetCookie(n,"subActionId2");Answers.Util.ExpireCookie(n);Answers.Auth.PerformNextAction(r,u,f,e)}},PerformNextAction:function(n,t,i,r){if(n!=null)switch(n){case"Join":Answers.Thread.JoinAfterSignIn(t);break;case"Recommend":Answers.Thread.RecommendAfterSignIn(t);break;case"ContentVote":Answers.Thread.ContentVoteAfterSignIn(t,i);break;case"Vote":Answers.Thread.VoteAfterSignIn(t);break;case"Reply":Answers.Thread.ReplyAfterSignIn(t,i,r);break;case"ThreadAbuse":Answers.Thread.ViewAbuseMenu(null,null,t,i);break;case"ProfileAbuse":Answers.UserProfile.ViewAbuseMenu(null,null,t,i);break;case"AskAQuestion":Answers.SearchResults.AskAQuestionAfterSignIn();break;case"SubscribeThread":Answers.Thread.SubscribeThreadAfterSignIn(t);break;case"WikiHelpful":Answers.Wiki.WikiHelpfulAfterSignIn(t);break;case"Comment":Answers.Wiki.CommentAfterSignIn(t,i);break;case"CommentHelpful":Answers.Wiki.CommentHelpfulAfterSignIn(t);break;case"SubscribeWiki":Answers.Wiki.SubscribeWikiAfterSignIn(t);break;case"CommentAbuse":Answers.Wiki.CommentAbuseMenu(null,null,t,i)}},PerformNextActionWithoutSignIn:function(n,t,i){if(n!=null)switch(n){case"Join":Answers.Thread.JoinBeforeSignIn(t);break;case"ContentVote":Answers.Thread.ContentVoteBeforeSignIn(t,i);break;case"Recommend":Answers.Thread.RecommendBeforeSignIn(t);break;case"Vote":Answers.Thread.VoteBeforeSignIn(t);break;case"WikiHelpful":Answers.Wiki.WikiHelpfulBeforeSignIn(t);break;case"CommentHelpful":Answers.Wiki.CommentHelpfulBeforeSignIn(t)}},VerifyEmail:function(n){$.post(Answers.Res.CheckEmailUrl,{antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){if(t=="0"){n!=null&&n(!1);return}if(t=="1"||t=="2"){n!=null&&n(!0);return}Answers.Util.ShowDialog($("#updateEmailDlg"),{url:Answers.Res.UpdateEmailDialogUrl,refresh:!0});window.onUpdateEmailClose=function(t){window.onUpdateEmailClose=null;Answers.Util.HideDialog($("#updateEmailDlg"));n!=null&&n(t)}},"json")},VerifySignIn:function(n){$.post(Answers.Res.AuthStateUrl,null,function(t){n!=null&&t!=null&&n(t)},"json")}};Answers.Announcement={Initialize:function(){$(".announcementbar-close-button").click(function(n){var i=n.target,r=$(i).data("cid"),t;Answers.CookieCompliance.IsCookieConsentRequired||Answers.Util.SetCookie(r,"0",null,!0);t=$("#Announcements .m-alert").length;t<=1&&$("#announcementSection").hide()})}};Answers.Mwf={CreateComponents:function(){typeof mwf!="undefined"&&(mwf.ComponentFactory.create([{c:mwf.ActionMenu,elements:document.querySelectorAll(".c-action-menu")}]),mwf.ComponentFactory.create([{c:mwf.NavigationMenu,elements:document.querySelectorAll(".c-navigation-menu")}]),mwf.ComponentFactory.create([{c:mwf.Dialog,elements:document.querySelectorAll(".c-dialog")}]),mwf.ComponentFactory.create([{c:mwf.Flyout,elements:document.querySelectorAll(".c-flyout")}]),mwf.ComponentFactory.create([{c:mwf.Select,elements:document.querySelectorAll(".c-select")}]),mwf.ComponentFactory.create([{c:mwf.Toggle,elements:document.querySelectorAll(".c-toggle")}]),mwf.ComponentFactory.create([{c:mwf.ContentToggle,elements:document.querySelectorAll(".c-content-toggle")}]))}};Answers.Accessibility={SetUhfLandmarks:function(){$("header[id='Header']").attr("aria-label","header");$("header[id='Header']").removeAttr("role");$("footer[id='uhf-footer']").attr("aria-label","footer")}};$(document).ready(function(){var n=function(n,t){return!n||!t?null:{name:"Ms.Webi.OutgoingRequest",cV:n.getResponseHeader("MS-CV")||"",data:{"Ms.Qos.OutgoingServiceRequest":{operationName:"AnswersWebRequest",targetUri:t.url||"",latencyMs:Date.now()-t.startTime||0,serviceErrorCode:"",succeeded:parseInt(n.status)>199&&parseInt(n.status)<300||!1,requestMethod:t.type||"",responseContentType:t.contentType||"",protocol:"https",protocolStatusCode:n.status.toString()||"200",dependencyOperationName:"AnswersWebRequest",dependencyOperationVersion:"1.0",dependencyName:"AnswersWeb",dependencyType:"WebService",responseSizeBytes:parseInt(n.getResponseHeader("Content-Length"))||0},"Ms.Webi.OutgoingRequest":{message:(parseInt(n.status)>199&&parseInt(n.status)<300)?"":n.responseText,retryCount:0,customData:JSON.stringify({pageName:Answers.PageName})}}}},t,i;$(document).ajaxSend(function(n,t,i){t.setRequestHeader("MS-CV",window.awa&&window.awa.cv?window.awa.cv.isInit()?window.awa.cv.increment():window.awa.cv.init()&&window.awa.cv.increment():"");i=i||{};i.startTime=Date.now()});$(document).ajaxError(function(t,i,r){if((r===null||r.dataType!=="script")&&window.awa&&window.awa.writeEvent)try{window.awa.writeEvent(n(i,r))}catch(u){}});$(document).ajaxSuccess(function(t,i,r){if((r===null||r.dataType!=="script")&&window.awa&&window.awa.writeEvent)try{window.awa.writeEvent(n(i,r))}catch(u){}});Answers.Util.CheckForMUIDMetaTag();Answers.Util.FetchMuidFromMetaTag();Answers.Util.DisableReadOnlyClick();Answers.Util.SetTimeZoneOffset();Answers.Announcement.Initialize();Answers.Accessibility.SetUhfLandmarks();Answers.Res&&$("img:not([alt])").attr("alt",Answers.Res.Common.DefaultAltText);$("#noThreadsSearch").click(function(){$("#searchFormInputTxt").focus()});typeof pageLoad!="undefined"&&pageLoad();$("#goToPageNum").on({input:function(){$(this).blur().focus()},keyup:function(n){n.which!==13&&Answers.Util.ValidatePageOnlyNumbers(this)},keypress:function(n){if(n.keyCode===13){if($(this).parents().hasClass("pager-container"))return;Answers.Util.ValidatePageOnlyNumbers(this);var t=Answers.Util.ValidatePageValue(n,this.value,$(".currentPage").val(),$(".currentMaxPage").val());return t>0&&Answers.Util.ReloadPage($("#goToPageLink").attr("href").replace("~pagenum~",t)),!1}}});Answers.Auth.CheckNextAction();Answers.Auth.IsAuthenticated()===!0&&$("#AnsAskQuestionMenuItem").length>0&&$.ajax(Answers.Res.MessagesCountUrl,{cache:!1,success:function(n){if(n>0){var t=$(".msame_Drop_links_list #msame_si3").find("a").text();$(".msame_Drop_links_list #msame_si3").find("a").text(t+" ("+n+")");t=$("#mobilePrivateMessageLink").text();$("#mobilePrivateMessageLink").text(t+" ("+n+")")}}});$("#AnsAskQuestionMenuItem").each(function(){$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction(this,{content:{contentId:"AnsAskQuestionMenuItem",contentName:"AnsAskQuestionMenuItem"}})}catch(n){}})});$("#mobile-AnsAskQuestionMenuItem").each(function(){$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction(this,{content:{contentId:"AnsAskQuestionMenuItem",contentName:"AnsAskQuestionMenuItem"}})}catch(n){}})});$("#locale-picker-link").each(function(){$("#locale-picker-link").attr({"aria-expanded":"false","aria-label":Answers.Res.Common.ChangeLocaleText})});$("#locale-picker-link").click(function(){return $(this).attr("aria-expanded",$(this).attr("aria-expanded")==="false"?"true":"false"),$("#LocalePopup").toggleClass("hidden-rsp"),$(document).scrollTop($(document).height()),!1});$("#RegionClose").click(function(){$("#LocalePopup").toggleClass("hidden-rsp")});$(".c-uhf-menu.js-nav-menu button[aria-haspopup=true]").each(function(){$(this).keydown(function(n){switch(n.keyCode){case 38:n.preventDefault();n.stopPropagation();$(this).attr("aria-expanded",!1);$(this).parent().attr("aria-expanded",!1);$(this).focus();break;case 40:n.preventDefault();n.stopPropagation();$(this).attr("aria-expanded",!0);$(this).parent().attr("aria-expanded",!0);$("ul li",$(this).parent()).focus()}})});t=function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($("#Main"),{content:{contentId:"no-bounce",contentName:"no-bounce"}})}catch(n){}};i=function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($("#Main"),{content:{contentId:"no-signal",contentName:"no-signal"}})}catch(n){}};$("#Header").attr("aria-label","Header");window.setTimeout(function(){t()},8e3);window.setTimeout(function(){i()},3e4);window.addEventListener("scroll",function(){if(window.awa&&window.awa.ct)try{$(window).scrollTop()+$(window).height()===$(document).height()&&window.awa.ct.capturePageAction($("#Main"),{content:{contentId:"fullview-scroll",contentName:"fullview-scroll"}})}catch(n){}})});$(document).on("mwfloaded",function(){Answers.Mwf.CreateComponents()});window.ClickTalePIISelector=".msame_TxtTrunc,#userProfileInfoUserName,.user-profile-info-item,.userNameShowWhiteSpace,#thread-discussion-user-start-link,#thread-discussion-user-last-reply-link,.message-user-info-link,.thread-message-content-reply-action-button,.starusername,#User_DisplayName,#User_NotificationEmail,#User_Profile_AboutMe,#User_Signature";Answers=Answers||{};Answers.ProfileImage=Answers.ProfileImage||{};Answers.ProfileImage.RefreshProfileImage=function(n){n||(n=$(".profile-image"));n.load(function(){var r=this.naturalWidth,u=this.naturalHeight,n=$(this),t=n.data("size"),i=1;return r>u?(n.css("height",t+"px"),i=r/u,n.css("width",t*i),n.css("margin-left",(t-parseInt(n.css("width")))/2)):(n.css("width",t+"px"),i=u/r,n.css("height",t*i),n.css("margin-top",(t-parseInt(n.css("height")))/2)),!1}).each(function(){this.complete&&this.naturalWidth!==0&&$(this).trigger("load")});n.show()};$(document).ready(function(){Answers.ProfileImage.RefreshProfileImage()});Answers=Answers||{};Answers.SearchWithAutoSuggest=function(n){"use strict";this.container=n;this.previousSearchText="";this.autoSuggestEnabled=!1;this.autoSuggestTriggerCharCount=0;this.autoSuggestPhraseMaxLength=0;this.autoSuggestMaxSuggestionsCount=0;this.searchMemberFilterName="";this.menuKeys={tab:9,escape:27,expand:39,previous:38,collapse:37,next:40,enter:13};this.isTabbing=!1;this.isEnabled=!0;this.Initialize=function(){return!this.container||!(this.container instanceof jQuery)||this.container.length===0||this.container.data("initialized")===!0?this:(this.autoSuggestEnabled=this.container.data("autosuggest"),this.autoSuggestTriggerCharCount=n.data("autosuggesttriggercharcount"),this.autoSuggestPhraseMaxLength=n.data("autosuggestphrasemaxlength"),this.autoSuggestMaxSuggestionsCount=n.data("autosuggestmaxsuggestionscount"),this.searchMemberFilterName=n.data("searchmemberfiltername"),this.InitializeSearchEvents(),this.isEnabled=this.searchMemberFilterName===$("#CurrentScope_Filter").val()?!1:!0,this.container.data("initialized",!0),this.AdjustSearchControls(),this)};this.InitializeSearchEvents=function(){var n=this;$("#searchFormInputTxt",n.container).on({"mouseup.search":function(){return!1},"focus.search":function(){$("#seachBoxDiv",n.container).addClass("inputHasFocus");$(this).parent().attr("aria-expanded","true");$("#categoryList").attr("aria-hidden","false");$("#searchFormInputTxt").attr("aria-expanded","true");$("#categoryList",n.container)[0].parentNode.id!=="SearchTerm-list"&&($("#categoryList",n.container).show(10),$("#searchCategory",n.container).height("auto"),$("#categoryList",n.container).attr("style",function(n,t){return t.replace("overflow: hidden;","")}));var i=$("#CurrentScope_ForumName",n.container).val(),r=$("#CurrentScope_Filter",n.container).val(),t=$("a[data-forum='"+i+"'][data-filter='"+r+"']",n.container);t&&t.addClass("dropNavSelected");$(document).on("keydown",function(t){t.which=="9"&&$("#categoryList").length>0&&$("#categoryList").is(":visible")&&($("#categoryList",n.container).hide(),$("#searchFormInputTxt").attr("aria-expanded","false"))})},"blur.search":function(){$("#seachBoxDiv",n.container).removeClass("inputHasFocus");setTimeout(function(){var t=$(document.activeElement).parents("#mainSearchDiv");t.length===0&&($("#categoryList",n.container).hide(),$("#searchFormInputTxt").attr("aria-expanded","false"))},10)},"keyup.search":function(t){return Answers.SearchWithAutoSuggest.SearchTermChanged(n),n.HandleSearchKeyCommands(t)}});$(".forumSelect",n.container).on({"keydown.forum":function(t){return n.HandleForumKeyCommands(this,t)},"click.forum":function(){var r=$("#CurrentScope_ForumName",n.container).val(),u=$("#CurrentScope_Filter",n.container).val(),f=$("a[data-forum='"+r+"'][data-filter='"+u+"']",n.container),t=$("#searchFormInputTxt",n.container),e=this,i;n.ChangeSelection(f,e);i=$.trim(t.val());i.length>0?t.closest("form").submit():t.focus()},"blur.forum":function(){setTimeout(function(){var t=$(document.activeElement).parents("#mainSearchDiv");t.length>0||($("#categoryList",n.container).hide(),$("#searchFormInputTxt").parent().attr("aria-expanded","false"),$("#categoryList").attr("aria-hidden","true"),$("#searchFormInputTxt").attr("aria-expanded","false"))},10)}});$("#homeSearchForm",n.container).on("submit.search",function(){var t=$("#searchFormInputTxt",n.container),i=$.trim(t.val()),r=$("#CurrentScope_Filter",n.container).val(),u;if(r.indexOf("tab:")===0&&(u=r.substring(4),$("#tab").val(u)),i.length>0){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"SearchForm",contentName:i}})}catch(f){}return!0}return t.focus(),!1});$("#Questions, #Discussions, #Wikis").on("click.search",function(){var t=[];$("#Questions").is(":checked")&&t.push("QnA");$("#Discussions").is(":checked")&&t.push("Discussion");$("#Wikis").is(":checked")&&t.push("Wiki");$("#ContentTypeScope",n.container).val(t.toString());$("#homeSearchForm",n.container).submit()});$(window).on("resize",function(){n.AdjustSearchControls()})};this.HandleSearchKeyCommands=function(n){switch(n.which){case this.menuKeys.enter:var t=$("#searchFormInputTxt",this.container);$.trim(t.val()).length>0&&t.closest("form").submit();break;case this.menuKeys.tab:this.isTabbing=!0;break;case this.menuKeys.next:this.MoveToCurrentForum();break;case this.menuKeys.previous:this.MoveToCurrentForum()}return!0};this.HandleForumKeyCommands=function(n,t){var o=$("#CurrentScope_ForumName",this.container).val(),s=$("#CurrentScope_Filter",this.container).val(),f=$("a[data-forum='"+o+"'][data-filter='"+s+"']",this.container),r=$("#searchFormInputTxt",this.container),i;switch(t.which){case this.menuKeys.enter:return i=n,this.ChangeSelection(f,i),$.trim(r.val()).length>0||r.focus(),t.preventDefault(),!1;case this.menuKeys.escape:return i=n,this.ChangeSelection(f,i),r.focus(),t.preventDefault(),!1;case this.menuKeys.tab:var u=$(document).getFocusable(),h=$("a.forumSelect",this.container).last(),e=u.index(h);return e+1<u.length?(u[e+1].focus(),t.preventDefault(),!1):!0;case this.menuKeys.next:return this.MoveToNextForum(),t.preventDefault(),!1;case this.menuKeys.previous:return this.MoveToPreviousForum(),t.preventDefault(),!1}return!0};this.SetSearchParameters=function(n,t){$("#searchFormInputTxt",this.container).val(t);$("#IsSuggestedTerm",this.container).val(n)};this.Val=function(n){return n&&$("#searchFormInputTxt",this.container).val(n),$("#searchFormInputTxt",this.container).val()};this.MoveToCurrentForum=function(){var n=$("#CurrentScope_ForumName",this.container).val(),t=$("#CurrentScope_Filter",this.container).val(),i=$("a[data-forum='"+n+"'][data-filter='"+t+"']",this.container);i.focus()};this.ChangeSelection=function(n,t){var i=$(t).data("filter"),r;if($("#CurrentScope_Filter",this.container).val(i),i!=null&&i.indexOf("tab:")>-1?(r=$("#forumSelect").val()==="all"?"":$("#forumSelect").val(),$("#CurrentScope_ForumName",this.container).val(r)):$("#CurrentScope_ForumName",this.container).val($(t).data("forum")),n.removeClass("dropNavSelected"),$(t).addClass("dropNavSelected"),this.isEnabled&&this.searchMemberFilterName===$("#CurrentScope_Filter",this.container).val()){this.isEnabled=!1;return}if(!this.isEnabled&&this.searchMemberFilterName!==$("#CurrentScope_Filter",this.container).val()){this.isEnabled=!0;return}};this.MoveToPreviousForum=function(){var u=$("#CurrentScope_ForumName",this.container).val(),f=$("#CurrentScope_Filter",this.container).val(),t=$("a[data-forum='"+u+"'][data-filter='"+f+"']",this.container),n,i,r;t&&(n=$(t[0].parentElement).prev(),n&&n.hasClass("topNavLink")&&(n=n.prev()),n&&n[0]?(i=$(n[0].firstChild),i&&this.ChangeSelection(t,i),i.focus()):(r=$("#searchCategory li:last",this.container)[0].firstChild,r&&this.ChangeSelection(t,r),r.focus()))};this.MoveToNextForum=function(){var u=$("#CurrentScope_ForumName",this.container).val(),f=$("#CurrentScope_Filter",this.container).val(),t=$("a[data-forum='"+u+"'][data-filter='"+f+"']",this.container),n,i,r;t&&(n=$(t[0].parentElement).next(),n&&n.hasClass("topNavLink")&&(n=n.next()),n&&n[0]?(i=$(n[0].firstChild),i&&this.ChangeSelection(t,i),i.focus()):(r=$("#searchCategory li:first",this.container)[0].firstChild,r&&this.ChangeSelection(t,r),r.focus()))};this.AdjustSearchControls=function(){var t=this.container.width(),n=$("#searchFormInputTxt",this.container);return this.container.is(":hidden")&&($("#categoryList",this.container).hide(),$("#searchFormInputTxt").attr("aria-expanded","false"),n.blur()),$("header.c-sgl-stck").length>0?($("#headingSearchImg #categoryList").css("top","37px"),$(".upper-content #categoryList").css("top","36px"),$("#headerUniversalHeader #categoryList").css("top","46px"),$("#mainSearchDiv").data("grid","col-12")):$("#categoryList",this.container).css("top","36px"),$("#PageContent .uhf-v2-only").css("display","none"),$("#PageContent .uhf-v1-only").css("display","none"),this}};Answers.SearchWithAutoSuggest.SearchTermChanged=function(n){for(var t,i=0;i<Answers.SearchWithAutoSuggest.Controls.length;i++)t=Answers.SearchWithAutoSuggest.Controls[i],t!==n&&t.Val(n.Val())};Answers.SearchWithAutoSuggest.Controls=[];$(document).ready(function(){$("#mainSearchDiv").each(function(){var n=$(this),t=new Answers.SearchWithAutoSuggest(n).Initialize();Answers.SearchWithAutoSuggest.Controls.push(t)})});Answers=Answers||{};Answers.Experts=Answers.Experts||{};Answers.Experts.UI={IsEnabled:$("#expertBar").length>0,IsExpertsActivityNotificationEnabled:$("#expertBarData").data("isexpertsactivitynotificationenabled"),ThreadCreatedDateInMilliseconds:$("#expertBarData").data("threadcreateddateinmilliseconds"),RefreshIntervalMilliseconds:$("#expertBarData").data("newthreadnotifrefreshintervalseconds")*1e3,BarTimeoutSeconds:$("#expertBarData").data("bartimeoutseconds"),StickAroundTextMaxMinutes:$("#expertBarData").data("stickaroundtextmaxminutes"),StateInfo:{BarLastUpdatedDateTime:new Date,LastUserDisplayName:"",LastReplyCount:""},ShowProfileImage:function(n,t){$.ajax(Answers.Res.ProfileImageUrl,{cache:!1,data:{userId:n,imageSize:"ExtraSmall"},type:"GET",success:function(n){$(t).html($(n));$(".profile-image",t).length>0&&$(".profile-image",t).css({width:"32px",height:"32px","margin-top":"0",display:"inline",visibility:"visible"})}})},ShowLastResponseTime:function(){Answers.Experts.Proxy.GetLastResponseTimeActivity(Answers.Thread.ForumShortName,Answers.Locale,function(n){var t=Math.ceil(n.LastResponseTimeSeconds/60),i="";i=t===1?$("#expertBarData").data("stickaroundtextlrtoneminute"):t>1&&t<=Answers.Experts.UI.StickAroundTextMaxMinutes?$("#expertBarData").data("stickaroundtext").replace("{0}",t):$("#expertBarData").data("staytunedtext");i!==""&&($("#expertBarText").text(i),$("#expertBar").show(400))},function(n){console.warn("[CV: "+n.CorrelationVector+"] Error Message: "+n.ErrorMessage);Answers.Experts.UI.HideExpertsNotificationBar(n)})},ResetBarTimeStamp:function(){Answers.Experts.UI.StateInfo.BarLastUpdatedDateTime=new Date;$("#expertBarData").data("sincedatetime",Answers.Experts.UI.StateInfo.BarLastUpdatedDateTime.toISOString())},RefreshLastReplyActivity:function(){Answers.Experts.Proxy.GetLastReplyActivity(Answers.Thread.Id,$("#expertBarData").data("sincedatetime"),Answers.Thread.LocaleName,Answers.Thread.ForumShortName,function(n){var i,t,r;if(n.ReplierCount>0){if(i=new Date(parseInt(n.SnapshotEndTime.substr(6))),i<=Answers.Experts.UI.StateInfo.BarLastUpdatedDateTime)return;if(Answers.Experts.UI.StateInfo.BarLastUpdatedDateTime=i,$("#expertBarData").data("currentuserid")==n.LastReplyUserId)return;if(Answers.Experts.UI.StateInfo.LastUserDisplayName==n.LastReplyUserDisplayName)return;Answers.Experts.UI.StateInfo.LastUserDisplayName=n.LastReplyUserDisplayName;t="";switch(n.ReplierCount){case 0:return;case 1:t=$("#expertBarData").data("userreplied").replace("{0}",Answers.Experts.UI.StateInfo.LastUserDisplayName);break;case 2:t=$("#expertBarData").data("userandanotherreplied").replace("{0}",Answers.Experts.UI.StateInfo.LastUserDisplayName);break;default:t=$("#expertBarData").data("userandothersreplied").replace("{0}",Answers.Experts.UI.StateInfo.LastUserDisplayName)}r=Answers.Experts.UI.CreateHtmlNotificationContent(Answers.Thread.Id,n.LastMessageKey,t);Answers.Experts.UI.ShowExpertsNotificationBar(r);Answers.Experts.UI.ShowProfileImage(n.LastReplyUserId,"#replierProfileImage")}},function(n){n&&n.responseJSON&&n.responseJSON.CorrelationVector&&n.responseJSON.DependencyCorrelationVector&&n.responseJSON.ErrorMessage&&console.warn("[cV: "+n.responseJSON.CorrelationVector+"][dCv: "+n.responseJSON.DependencyCorrelationVector+"] Error Message: "+n.responseJSON.ErrorMessage);Answers.Experts.UI.HideExpertsNotificationBar()})},CreateHtmlNotificationContent:function(n,t,i){var r=$("#expertBarData").data("showreply"),u=window.location.origin+"/message/"+t+"?threadId="+n;return'<div id="replierProfileImage"><\/div><p class="c-paragraph notif-text">'+i+'<span class="c-group"><a class="c-action-trigger" href="'+u+'">'+r+"<\/a><\/span><\/p>"},CloseExpertsNotificationBarIfNoActivity:function(){if(!$("#replierProfileImage").is(":visible")){var n=new Date,t=(n-Answers.Experts.UI.StateInfo.BarLastUpdatedDateTime)/1e3;t>Answers.Experts.UI.BarTimeoutSeconds&&Answers.Experts.UI.HideExpertsNotificationBar()}},HideExpertsNotificationBar:function(){$("#expertBar").hide()},ShowExpertsNotificationBar:function(n){if($("#expertAlert").length==0)$("#expertBar").html('<div id="expertAlert" class="m-alert f-information" role="alert"><button class="c-action-trigger c-glyph glyph-cancel" aria-label="Close alert"><\/button><div><div class="c-paragraph" id="expertBarText"><\/div><\/div><\/div>');$("#expertBarText").html(n);$("#expertBar").show(400);$("#expertAlert button.c-action-trigger").off().on("click",function(){$("#expertBar").hide()})}};Answers.Experts.Proxy={GetLastReplyActivity:function(n,t,i,r,u,f){$.ajax({type:"GET",dataType:"json",url:Answers.Res.ThreadLastReplyActivity,cache:!1,data:{threadId:n,sinceDateTime:t,locale:i,forumShortName:r},success:function(n){n.IsError===!0?f(n):u(n)},error:function(n){f(n)}})},GetLastResponseTimeActivity:function(n,t,i,r){$.ajax({type:"GET",dataType:"json",url:Answers.Res.ThreadLastResponseTimeActivity,cache:!1,data:{forumShortName:n,languageLocale:t},success:function(n){n.IsError!==undefined&&n.IsError===!0?r(n):i(n)},error:function(n){r(n)}})}};Answers=Answers||{};answersResDefined=typeof Answers.Res!="undefined";answersUtilDefined=typeof Answers.Util!="undefined";Answers.Thread={ThreadType:"",Id:$("#varThreadId").val(),CurrentPage:answersUtilDefined?Answers.Util.QueryString("rtAction")&&$("#varThreadId").val()&&Answers.Util.GetCookie("rtAction","threadId")===$("#varThreadId").val()&&parseInt(Answers.Util.GetCookie("rtAction","pageNum"),10)?parseInt(Answers.Util.GetCookie("rtAction","pageNum"),10):parseInt($("#currentPage").val(),10):0,IsShowPagedReplies:$("#isShowPagedReplies").val()==="true",TotalReplyCount:parseInt($("#totalReplyCount").val(),10),MessageId:answersUtilDefined?Answers.Util.QueryString("msgid")||Answers.Util.QueryString("messageid")||Answers.Util.QueryString("rtAction")&&$("#varThreadId").val()&&Answers.Util.GetCookie("rtAction","threadId")===$("#varThreadId").val()&&Answers.Util.GetCookie("rtAction","msgId")?Answers.Util.GetCookie("rtAction","msgId")||Answers.Util.QueryString("msgid")||Answers.Util.QueryString("messageid"):undefined:undefined,ForumShortName:$("input#varForumShortName").val(),LocaleName:$("#varLocaleName").val(),CurrentReplyQuoteCharNum:0,UpdateHttpFud:function(){var t,n,i;if($("#ThreadContent img").length>0)for(t=0;t<$("#ThreadContent img").length;t++)n=$("#ThreadContent img")[t],n.src&&n.src.substr(0,5)==="http:"&&n.src.indexOf("FileDownloadHandler")>0&&(i=n.src.replace("http:","https:"),n.src=i)},ThreadOptions:{currentSort:undefined,currentDirection:undefined},Initialize:function(){($("#isThreadSortLatestReplyFlighted").val()==="true"||$("#isThreadSortMostHelpfulFlighted").val()==="true")&&(Answers.Thread.ThreadOptions.currentSort=$("#currentSort").val(),Answers.Thread.ThreadOptions.currentDirection=$("#currentDirection").val())},ApplyCurrentFilters:function(){$.get(Answers.Thread.AppendForumName(Answers.Res.MsgPanelUrl),{threadId:Answers.Thread.Id,messageId:response.Result.msgid,tm:(new Date).getTime()},function(n){var t=function(){$("html,body").animate({scrollTop:$(replySelector).offset().top},"slow");Answers.Thread.SetEventHandler($(replySelector));Answers.ProfileImage.RefreshProfileImage();Answers.Mwf.CreateComponents()};$(n).hide().appendTo("#allReplies").fadeIn(1e3,t)})},EnableNewTabPages:function(){$(".pagingControl .prevPage").each(function(){var n=Answers.Thread.CurrentPage-1>0?Answers.Thread.CurrentPage-1:1;$(this).attr("href",Answers.Util.AddParamValue(window.location.href,"page",n))});$(".pagingControl .goToPageText .pageNumberLayout .goToSelectedPage").each(function(){var n=$(this).data("value");$(this).attr("href",Answers.Util.AddParamValue(window.location.href,"page",n))});$(".pagingControl .nextPage").each(function(){var n=Answers.Thread.CurrentPage+1<=$(".currentMaxPage").val()?Answers.Thread.CurrentPage+1:Answers.Thread.CurrentPage;$(this).attr("href",Answers.Util.AddParamValue(window.location.href,"page",n))})},SetEditPanel:function(n,t,i){var r,u;if(t&&$("#EditMessageId").val(t),$("#EditReasonPanel").remove(),r=$(".editReasonPanel").clone().prop({id:"EditReasonPanel"}),r.find(".editReason").prop({id:"EditReason",name:"EditReason"}),r.find(".unselecteEditReasonError").prop({id:"unselecteEditReasonError"}),$("#abuseEditAckGrp").hide(),$("#editTitleDesc, #editDetailsDesc, #DeleteBtn").show(),$("#EditThreadFormTitle").text(i?i:answersResDefined?Answers.Res.ViewThread.EditHover:""),u=Answers.Thread.SetEditReason(n,t),$("#markAbuseType").val(""),$("#EditReason").val(""),$("#subscribeOnReplyInput").prop("checked",$("#subscribeOnReplyInput").data("subscribe")),$("#NotifyMe").prop("checked",$("#NotifyMe").data("subscribe")),u===null){r.hide().appendTo($(document.body));return}r.parent().attr("id")!==u.attr("id")&&r.appendTo(u);$("#unselecteEditReasonError").hide();r.show()},SetEditReason:function(){return null},Edit:function(n,t){t===null&&(t="00000000-0000-0000-0000-000000000000");var i={forum:Answers.Thread.ForumShortName,threadId:$("#varThreadId").val(),editType:n,messageId:t};Answers.Util.NavigateTo(Answers.Res.Thread.EditThreadUrl,i)},Delete:function(){var n=null;$("#markAbuseType").val()!==""&&(n=$("#markAbuseType").val());$.post(Answers.Thread.AppendForumName(Answers.Res.DeleteThreadUrl),{threadId:$("#varThreadId").val(),deleteThread:!0,abuseTypeId:n,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){n.Success?(Answers.Thread.SuspendOnUnloadMsg=!0,Answers.Util.ReloadPage()):$("#postError").text(Answers.Res.ViewThread.PostError).show()},"json")},Join:function(n){!Answers.Auth.IsAuthenticated()&&Answers.Res.AnonymousVoting.Enabled?Answers.Auth.NotSignedInThen("Join",n):Answers.Auth.SignInThen("Join",n)},JoinBeforeSignIn:function(n){$.post(Answers.Thread.AppendForumName(Answers.Res.JoinUrl),{threadId:n,join:!0,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){if(n.Success){var t=$("#threadQuestion").find(".thdJoinBtn");t.addClass("disabled").attr("title",n.Result.ButtonTitle).prop("disabled",!0);t.text(n.Result.ButtonText)}},"json")},JoinAfterSignIn:function(n){Answers.Auth.IsAuthenticated()||Answers.Thread.JoinBeforeSignIn(n);var t=function(t){t?Answers.Thread.JoinBeforeSignIn(n):$(".thdJoinBtn").removeClass("disabled")};$(".thdJoinBtn").addClass("disabled");Answers.Auth.VerifyEmail(t)},Recommend:function(n){!Answers.Auth.IsAuthenticated()&&Answers.Res.AnonymousVoting.Enabled?Answers.Auth.NotSignedInThen("Recommend",n):Answers.Auth.SignInThen("Recommend",n)},RecommendBeforeSignIn:function(n){$.post(Answers.Thread.AppendForumName(Answers.Res.RecommendUrl),{threadId:n,recommend:!0,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){if(n.Success){var t=$("#threadQuestion").find(".thdRecommendBtn");t.addClass("disabled").attr("title",n.Result.ButtonTitle).prop("disabled",!0);t.text(n.Result.ButtonText);$("#content-vote").remove()}},"json")},RecommendAfterSignIn:function(n){Answers.Auth.IsAuthenticated()||Answers.Thread.RecommendBeforeSignIn(n);var t=function(t){t?Answers.Thread.RecommendBeforeSignIn(n):$(".thdRecommendBtn").removeClass("disabled")};$(".thdRecommendBtn").addClass("disabled");Answers.Auth.VerifyEmail(t)},ContentVote:function(n,t){$.post(Answers.Res.ViewThread.ContentVoteUrl,{threadId:n,isDownVoteAction:t,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){if(n.Success){var t=$("#threadQuestion").find(".thdRecommendBtn");t.addClass("disabled").attr("title",n.Result.ButtonTitle).prop("disabled",!0);t.text(n.Result.ButtonText);$("#content-vote").remove()}else $("#content-vote").remove()},"json")},Reply:function(n,t,i){i&&n&&(document.cookie="rtAction=".concat("threadId=",i,"&msgId=",n,"&pageNum=",Answers.Thread.CurrentPage.toString(),"&quote=",t.toString(),";"," path=",window.location.href.substring(0,window.location.href.lastIndexOf("/")+1)));Answers.Auth.SignInThen("Reply",n,t,i)},ReplyAfterSignIn:function(n,t,i){var r,u;if(t=t===!0||t==="true",i=!i||i==="false"||i==="null"||i==="undefined"?Answers.Thread.Id:i,r=t?"1":"2",$("#threadReplies #allReplies").children().length<1){if($('div[msgId="'+n+'"]').length>0)return $("html,body").animate({scrollTop:$('div[msgId="'+n+'"]').first().offset().top},"slow"),Answers.Thread.ReplyBoxHandler(n,t,i,r);Answers.Thread.TotalReplyCount>0&&(u=Answers.Thread.ViewReplies(),u.done(function(){return $("html,body").animate({scrollTop:$('div[msgId="'+n+'"]').first().offset().top},"slow"),Answers.Thread.ReplyBoxHandler(n,t,i,r)}))}else return Answers.Thread.ReplyBoxHandler(n,t,i,r)},ReplyBoxHandler:function(n,t,i,r){var e=$('div[msgId="'+n+'"]').first(),f=e.find(".msgReplyBtn").first(),u=f.closest(".thread-message-content-body").length>0?f.closest(".thread-message-content-body"):f.closest("#threadQuestion");return $("#postForm").is(":visible")?(u.find("#postForm").length<=0&&alert(Answers.Res.ViewThread.OneEditor),!1):(Answers.Util.CallScript(!Answers.Editor,Answers.Res.ReplyEditorScript,function(){$.ajax({type:"GET",dataType:"html",url:Answers.Thread.AppendForumName(Answers.Res.ViewThread.MessageReplyBox),cache:!1,data:{threadId:i,messageId:n},success:function(t){var l=function(){$("#replyError").hide()},i,e;$("#postForm").remove();u.append(t);$("#actMsgId").val(n);$("#actType").val(r);u.find(".msgReplyBtn, .msgReplyQtBtn, .msgEditBtn, .thdEditBtn").addClass("disabled");i=$("#postForm",u);Answers.Thread.SetEditPanel("");$("#subscribeOnReplyGrp",i).show();(n!==undefined&&n.localeCompare("00000000-0000-0000-0000-000000000000")!==0||n!==undefined&&n.localeCompare("00000000-0000-0000-0000-000000000000")==0&&Answers.Thread.ThreadType.toLowerCase()!="article")&&$("#replyWithQuoteContainer",i).show();$("#postReplyTitle",i).text(f.text());$("#replyDeleteBtn",i).hideMsaButton();i.show();e="";Answers.Editor.Create("replyEditor",e);$("#replyEditorToolAndError iframe",i).attr("aria-label",Answers.Res.ViewThread.ReplyInputDesc);Answers.Editor.Focus("replyEditor");Answers.Editor.Bind("replyEditor","focus",l);var o=$("#ratingForm .c-glyph[name=5]:visible",u),s=$(".c-button.message-voting-button.message-voting-button-down:visible",u),h=$(".modButton.parent-level-button.thread-message-content-footer-message-action-link:visible",u),a=$(".message-action-container-col-vote-and-ellipsis .message-action-menu .c-action-trigger:visible",u),c=o.length>0?o:s.length>0?s:h.length>0?h:a;c.keyup(function(n){n.which===40&&$("#replyWithQuote").focus()});$("#replyWithQuote").keyup(function(t){var f,u;if(t.which===38)c.focus();else if(t.which===13){f=!this.checked;$(this).attr("aria-checked",this.checked.toString());this.checked=f;var o=$("div[msgId='"+n+"']:first .thread-message-content-body-text"),r=$("#replyEditor").data("kendoEditor"),i=$("blockquote.replyQuote",$(r.body)),e=r.value();if(e===""&&(e="<p><\/p>"),f?(u=$("<div>").html(o.html()),Answers.Thread.CurrentReplyQuoteCharNum=$.trim(u.text()).length,$("div.AnswersExternalContent",u).remove(),r.value('<p><\/p><blockquote class="replyQuote message-reply-quote">'+u.html()+"<\/blockquote>"+e)):(Answers.Thread.CurrentReplyQuoteCharNum=0,i.prev("p").text()===""&&i.prev("p").remove(),i.next("p").text()===""&&i.next("p").remove(),i.remove(),r.update()),Answers.Editor.Focus("replyEditor"),window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"replyWithQuote",contentName:$.trim($(this).is(":checked").toString()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(s){}}});$("#subscribeOnReplyInput").keyup(function(n){switch(n.which){case 13:if(this.checked=!this.checked,$(this).attr("aria-checked",this.checked.toString()),$("#replySubmitBtn").focus(),window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"subscribeOnReplyInput",contentName:$.trim($(this).is(":checked").toString()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(t){}break;case 38:Answers.Editor.Focus("replyEditor");break;case 40:$("#replySubmitBtn").focus()}});$("#replySubmitBtn").keyup(function(n){n.which===38&&$("#subscribeOnReplyInput").focus()});u.off("change.threadactions","#replyWithQuote");u.on("change.threadactions","#replyWithQuote",function(){var r;$(this).attr("aria-checked",this.checked.toString());var f=$("div[msgId='"+n+"']:first .thread-message-content-body-text"),i=$("#replyEditor").data("kendoEditor"),t=$("blockquote.replyQuote",$(i.body)),u=i.value();if(u===""&&(u="<p><\/p>"),this.checked?(r=$("<div>").html(f.html()),Answers.Thread.CurrentReplyQuoteCharNum=$.trim(r.text()).length,$("div.AnswersExternalContent",r).remove(),i.value('<p><\/p><blockquote class="replyQuote message-reply-quote">'+r.html()+"<\/blockquote>"+u)):(Answers.Thread.CurrentReplyQuoteCharNum=0,t.prev("p").text()===""&&t.prev("p").remove(),t.next("p").text()===""&&t.next("p").remove(),t.remove(),i.update()),Answers.Editor.Focus("replyEditor"),window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"replyWithQuote",contentName:$.trim($(this).is(":checked").toString()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(e){}});$("#subscribeOnReplyInput").change(function(){if($(this).attr("aria-checked",this.checked.toString()),window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"subscribeOnReplyInput",contentName:$.trim($(this).is(":checked").toString()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(n){}});$(".editorLoading").hide();$("#varFeedbackStatus").val()!="0"&&$("#replyFeedbackStatus").length>0&&$("#replyFeedbackStatus").val($("#varFeedbackStatus").val());$("#varAllowFeedbackStatusUpdate").val()=="false"&&$("#replyFeedbackStatusContainer").hide()},error:function(n){n.status===404&&Answers.Util.ReloadPage()}})}),!0)},EditReply:function(n,t,i){var r=n.closest(".thread-message-content-body");if($("#postForm").is(":visible")){r.find("#postForm").length<=0&&alert(Answers.Res.ViewThread.OneEditor);return}Answers.Util.CallScript(!Answers.Editor,Answers.Res.ReplyEditorScript,function(){$.ajax({type:"GET",dataType:"html",url:Answers.Thread.AppendForumName(Answers.Res.ViewThread.MessageReplyBox),cache:!1,data:{threadId:Answers.Thread.Id,messageId:t},success:function(u){var e,o,f;$("#postForm").remove();r.append(u);$("#postForm").show();Answers.Thread.SetEditPanel(i==="4"?"EditReplyByModerator":"");$("#actMsgId").val(t);$("#actType").val(i);r.find("div.msgContent").hide();$("#replyDeleteBtn",r).hideMsaButton();$("#postForm #postReplyTitle").text(n.text());i!=="4"&&(e=$('div[msgId="'+t+'"]').hasClass("thread-message-answer"),$("#replyDeleteBtn").toggleClass("disabled",e).attr("title",e?Answers.Res.ViewThread.DelPostAnswer:Answers.Res.ViewThread.DelPostHover).showMsaButton());o=$('div[msgId="'+t+'"]:first .thread-message-content-body-text');f=o.html();$("#HiddenTextForHtmlCleanup").html(f);$("#HiddenTextForHtmlCleanup .AnswersExternalContent").remove();f=$("#HiddenTextForHtmlCleanup").html();Answers.Editor.Create("replyEditor",f,!0);Answers.Editor.Bind("replyEditor","focus",function(){$("#replyError").hide()});$(".editorLoading").hide()},error:function(n){n.status===404&&Answers.Util.ReloadPage()}})})},HideReply:function(){var n,t,i;Answers.Editor.Remove("replyEditor");$("#replyError").text("").hide();$("#subscribeOnReplyGrp").hide();n=$("#postForm");n.hide();t=n.closest("div[msgId]");i=$("#actType").val();i!=="7"&&t.find(".msgReplyBtn, .msgReplyQtBtn, .msgEditBtn, .thdEditBtn").removeClass("disabled");$(".editReasonPanel").hide();t.find("div.msgContent").show();$("#uploadFileSessionId").val("");n.parent().focus();n.remove()},PostReply:function(){var u=$.trim(Answers.Editor.Text("replyEditor")),h=Answers.Editor.Content("replyEditor"),o,r,f,e;if(u.length<Answers.Res.ViewThread.ReplyMinChars){$("#replyError").text(Answers.Res.ViewThread.ReplyMinMsg).show();return}if(u.length>Answers.Res.ViewThread.ReplyMaxChars){o=Answers.Res.ViewThread.ReplyMaxMsg.replace("{0}",u.length);$("#replyError").text(o).show();return}var s=!1,t=null,i=null,n=$("#actType").val();if(n==="1"||n==="2")r=$("input#varThreadType").val(),r&&r.toLowerCase()=="feedback"?(t=Answers.Res.ReplyToFeedbackUrl,i=$("#replyFeedbackStatus").val(),i||(i=$("#varFeedbackStatus").val())):(t=Answers.Res.ReplyUrl,s=!0);else if(n==="3"||n==="4"){if(n==="4"&&$("#EditReason").val().length<1){$("#unselecteEditReasonError").text(Answers.Res.ViewThread.UnselecteEditReasonError).show();return}t=Answers.Res.EditReplyUrl}else n==="6"?t=Answers.Res.MessageAbuseMarkUrl:n==="7"&&(t=Answers.Res.MessageAbuseUnmarkUrl);t!==null&&(f=$("#subscribeOnReplyInput").is(":checked"),$("#replySubmitBtn, #replyCancelBtn, #replyDeleteBtn").addClass("disabled"),e=function(u){var o=$("#varThreadId").val(),e=$("#actMsgId").val();if(!u){$("#replySubmitBtn, #replyCancelBtn, #replyDeleteBtn").removeClass("disabled");return}$.post(Answers.Thread.AppendForumName(t),{threadId:o,messageId:e,reason:$("#EditReason").val(),message:h,abuseTypeId:$("#markAbuseType").val(),feedbackStatus:i,subscribe:f,antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){var u,f,o,s;if($("#replySubmitBtn, #replyCancelBtn, #replyDeleteBtn").removeClass("disabled"),t.Success){if(r&&r.toLowerCase()=="feedback"&&i!=null&&i!=0){window.onbeforeunload=null;window.location.replace(window.location.href);return}u="div[msgId='"+t.Result.msgid+"']";n==="1"||n==="2"?(f=$("#threadReplies #allReplies"),o=Answers.Thread.CurrentPage||1,Answers.Thread.CurrentPage=t.Result.replypagenumber,Answers.Thread.SuspendOnUnloadMsg=!0,o>=t.Result.replypagenumber&&f.children().length>0?(f.show(),$.get(Answers.Thread.AppendForumName(Answers.Res.MsgPanelUrl),{threadId:Answers.Thread.Id,messageId:t.Result.msgid,tm:(new Date).getTime()},function(n){var t=function(){$("html,body").animate({scrollTop:$(u).offset().top},"slow");Answers.Thread.SetEventHandler($(u));Answers.ProfileImage.RefreshProfileImage();Answers.Mwf.CreateComponents()};$(n).hide().appendTo("#allReplies").fadeIn(1e3,t)}),t.Result.reloadQuestion&&Answers.Thread.RefreshMsgContent($("#threadQuestion").attr("msgid"))):Answers.Thread.ViewReplies().done(function(){$("html,body").animate({scrollTop:$(u).offset().top},"slow")}),$("a#AllReplies").html(t.Result.allrepliestext),Answers.Experts.UI.ResetBarTimeStamp()):n==="3"||n==="4"?Answers.Thread.RefreshMsgContent(e):(n==="6"||n==="7")&&Answers.Thread.RefreshMsgContent(e,n==="7");$("#subscribeOnReplyGrp").hide();Answers.Thread.HideReply()}else s=t.IsError?t.ErrorMessage?t.ErrorMessage:Answers.Res.ViewThread.PostError:t.Result?t.Result:Answers.Res.ViewThread.PostError,$("#replyError").text(s).show()},"json")},s&&f?Answers.Auth.VerifyEmail(e):e(!0))},DeleteReply:function(n){$("#replySubmitBtn, #replyCancelBtn, #replyDeleteBtn").addClass("disabled");var t=null;$("#markAbuseType").val()!==""&&(t=$("#markAbuseType").val());$.post(Answers.Thread.AppendForumName(Answers.Res.DeleteMessageUrl),{threadId:Answers.Thread.Id,messageId:n,abuseTypeId:t,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){if($("#replySubmitBtn, #replyCancelBtn, #replyDeleteBtn").removeClass("disabled"),n.Success){Answers.Thread.HideReply();var t=$("#postForm");t.length&&t.appendTo("#PageContent");n.Result.refresh?Answers.Thread.RefreshMsgContent(n.Result.messageId,!0):($("a#AllReplies").html(n.Result.allRepliesText),$('div[msgId="'+n.Result.messageId+'"]').hide(),$("div[msgId]").is(":visible")?n.Result.nextMessage?$.get(Answers.Thread.AppendForumName(Answers.Res.MsgPanelUrl),{threadId:Answers.Thread.Id,messageId:n.Result.nextMessage,tm:(new Date).getTime()},function(t){var i=function(){Answers.Thread.SetEventHandler($('div[msgId="'+n.Result.nextMessage+'"]'))};$(t).hide().appendTo("#allReplies").fadeIn(1e3,i)}):(Answers.Thread.CurrentPage=Answers.Thread.CurrentPage-1,Answers.Thread.ViewReplies()):Answers.Util.ReloadPage())}else $("#replyError").text(Answers.Res.ViewThread.PostError).show()},"json")},ShowReplyTo:function(n,t,i,r){r=r?r:Answers.Thread.Id;$.get(Answers.Thread.AppendForumName(Answers.Res.MsgTextUrl),{threadId:r,messageId:t,replymessage:n},function(n){i.html(n).show()})},Vote:function(n){!Answers.Auth.IsAuthenticated()&&Answers.Res.AnonymousVoting.Enabled?Answers.Auth.NotSignedInThen("Vote",n):Answers.Auth.SignInThen("Vote",n)},VoteBeforeSignIn:function(n){$.post(Answers.Thread.AppendForumName(Answers.Res.VoteUrl),{threadId:Answers.Thread.Id,messageId:n,antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){if(t.Success){var r=$("div[msgId='"+n+"']"),i=$(r).find(".message-up-vote-button");i.addClass("disabled").attr("title",t.Result.ButtonTitle).prop("disabled",!0);i.text(t.Result.ButtonText)}else Answers.Thread.RefreshMsgContent(n)},"json")},VoteAfterSignIn:function(n){$.post(Answers.Thread.AppendForumName(Answers.Res.VoteUrl),{threadId:Answers.Thread.Id,messageId:n,antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){t.Success&&Answers.Thread.RefreshMsgContent(n)},"json")},MarkAsSolution:function(n,t,i,r){$.post(Answers.Res.ViewThread.MarkAsSolutionUrl,{forumId:n,threadType:t,threadId:i,messageId:r,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){var t,i;n.Success&&(t=$("div.message-voting-container[data-messageid='"+r+"']"),$("p.message-voting-question",t).hide(),$(".message-voting-spacer",t).hide(),i="[data-messageid='"+r+"'].message-voting-container",$(i).find(".message-voting-text").hide(),$("#ratingContainer",t).length>0?Answers.Thread.ShowRatingControl(r,!0):($("p.vote-message-default",t).html(n.Result).show(),$("a.page-refresh-link",t).click(function(){window.location=window.location})))},"json")},DownVote:function(n,t,i,r){$.post(Answers.Res.ViewThread.DownVoteUrl,{forumId:n,threadType:t,threadId:i,messageId:r,antiForgeryKey:$("#_AntiForgeryKey").val()},function(n){if(n.Success){var t=$("div.message-voting-container[data-messageid='"+r+"']");$("p.message-voting-question",t).hide();$(".message-voting-spacer",t).hide();$("p.vote-message-default",t).hide();$("#ratingContainer",t).length>0?Answers.Thread.ShowRatingControl(r,!1):$("p.vote-message-down",t).show()}},"json")},ShowRatingControl:function(n,t){if($("#ratingContainer").length!==0){var i=$("div.message-voting-container[data-messageid='"+n+"']");$("#ratingContainer",i).css("display","inline");t?($(".voting-button-area",i).hide(),$("#resolvedAcknowledgeText",i).css("display","inline"),$("#notResolvedAcknowledgeText",i).hide()):($(".voting-button-area",i).hide(),$("#resolvedAcknowledgeText",i).hide(),$("#notResolvedAcknowledgeText",i).css("display","inline"));$("#ratingForm button[type='button']",i).click(function(){var t=$(this).attr("name"),i=$(this).parents(".message-voting-container");if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"msgAnsRatingBtn",contentName:t,areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(r){}$.ajax({url:Answers.Thread.AppendForumName(Answers.Res.RateReplyUrl),type:"POST",dataType:"json",data:{threadId:Answers.Thread.Id,messageId:n,rating:t,antiForgeryKey:$("#_AntiForgeryKey").val()},success:function(t){$("div.message-voting-container[data-messageid='"+n+"']").find(".message-voting-container .message-voting-text").hide();$("div.message-voting-container[data-messageid='"+n+"']").find("#ratingContainer",i).hide();t.Success?$("#ratingCompleteAcknowledgeText",i).show():console.log(t.ErrorMessage)}})})}},AppendForumName:function(n){var i=Answers.Thread.ForumShortName,t=n;return i!==undefined&&(t=t.indexOf("?")>-1?t+"&forum="+i:t+"?forum="+i),t},MarkAnswer:function(n,t){$.ajax({url:Answers.Thread.AppendForumName(Answers.Res.MarkAnsUrl),type:"POST",dataType:"json",data:{threadId:Answers.Thread.Id,messageId:n,answer:t,antiForgeryKey:$("#_AntiForgeryKey").val()},success:function(t){if(t.Success){var i=Answers.Thread.CurrentPage||1;i===1?Answers.Util.ReloadPage():Answers.Thread.RefreshMsgContent(n)}}})},RefreshAllMessages:function(n){var t,i,r=[];i=n===!0?"#allReplies div[msgId], .unrenderedmessage[msgId]":"div[msgId], .unrenderedmessage[msgId]";$.each($(i),function(n,i){t=$(i).attr("msgId");$.inArray(t,r)===-1&&(r.push(t),Answers.Thread.RefreshMsgContent(t,!1))})},RefreshMsgContent:function(n,t,i){var o=$("#actType").val(),f='div[msgId="'+n+'"]',r=$(f),e,u={type:"GET",dataType:"html",url:Answers.Thread.AppendForumName(Answers.Res.MsgPanelUrl),data:{threadId:Answers.Thread.Id,messageId:n,tm:(new Date).getTime()},success:null,complete:null,statusCode:null};return(r.length>0?r.attr("msgId")==="00000000-0000-0000-0000-000000000000"&&(t===!0&&(e=!0),u.url=Answers.Thread.AppendForumName(Answers.Res.ThreadSummaryUrl),f="#thread-summary",r=$(f)):r=$('.unrenderedmessage[msgId="'+n+'"]'),r.length===0)?!1:(u.success=[function(n){var t,i;i=r.find("#postForm");i.length&&(Answers.Thread.HideReply(),i.appendTo("#PageContent"));r.replaceWith(n);t=$(f);t.each(function(n){Answers.Thread.SetEventHandler(t[n])});e===!0&&Answers.Thread.RefreshAllMessages(!0);Answers.Mwf.CreateComponents();Answers.ProfileImage.RefreshProfileImage()}],u.complete=[i],u.statusCode={404:function(){Answers.Util.ReloadPage()},500:function(n){$(".msgContent",r).html(n.responseText);$(".ratingYBtn, .message-user-info-link-history",r).addClass("disabled")}},$.ajax(u),!1)},Subscribe:function(n,t,i){n.addClass("disabled");$.post(Answers.Thread.AppendForumName(Answers.Res.SubscribeUrl),{threadId:t,subscribe:i,antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){n.removeClass("disabled");t.IsError?t.Result.length>0&&Answers.Util.ShowSimpleDialog(t.Result,t.ErrorMessage):Answers.Thread.RefreshMsgContent($("#threadQuestion").attr("msgid"))},"json")},ViewHistory:function(n,t){var i=$(n),u=i.closest("div[msgId]"),f=i.parent(),r=$(i.data("paneltarget"),u);i.attr("aria-expanded",i.attr("aria-expanded")==="false"?"true":"false");i.data("loaded")||i.data("loading")===!0||(i.data("loading",!0),$.ajax(Answers.Thread.AppendForumName(Answers.Res.MsgHistoryUrl),{cache:!1,data:{messageId:t,threadId:Answers.Thread.Id},error:function(n){if(n.status===404)return i.find(".message-user-info-link-history").addClass("disabled"),Answers.Util.ShowSimpleDialog("",$(n.responseText).html());Answers.Util.ReloadPage()},success:function(n){if(r&&r.length!==0){r.html(n);var t={headerTitle:Answers.Res.ContentHistory.Title};Answers.Util.ShowInfoPanel(i,t,!0)}i.data("loading",!1);i.data("loaded",!0);$(".message-user-info-content-holder .info-panel-close-button").each(function(){$(this).click(function(){$($(".message-user-info-link.message-user-info-link-history"),$(this).closest(".message-user-info-text-and-badge")).attr("aria-expanded","false")})})}}))},SubscribeThreadAfterSignIn:function(){var n=$(".subscribeThreadBtn"),t=function(t){t&&Answers.Thread.Subscribe(n,$("#varThreadId").val(),!0)};Answers.Auth.VerifyEmail(t)},SetEventHandler:function(n){var r,t,i;n instanceof jQuery||(n=$(n));r=n.attr("msgId");Answers.Thread.UnsetEventHandlers(n);t=$("img:not([alt])",n);t.length>0&&t.attr("alt",Answers.Res.Common.DefaultAltText);$(".messageControls button",n).on("mousedown.threadactions, keydown.threadactions",function(n){var t=this;Answers.Util.HandleActionsForDropdown(n,function(){$(".contentWrapper").css("z-index",1);$(t).parents(".contentWrapper").css("z-index",2)})});$(".thdJoinBtn",n).on("click.threadactions",function(){$(this).hasClass("disabled")||Answers.Thread.Join($("#varThreadId").val())});$(".thdRecommendBtn",n).on("click.threadactions",function(){$(this).hasClass("disabled")||Answers.Thread.Recommend($("#varThreadId").val())});$(".thdContentVoteBtn",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")){var n=$(this).attr("data-bi-id")=="message-voting-down"?!0:!1;Answers.Thread.ContentVote($("#varThreadId").val(),n)}});$(".subscribeThreadBtn",n).on("mousedown.threadactions",function(){var t=$(this),n;if(!t.hasClass("disabled")){if(n=Answers.Thread.onBeforePageChange(),n===!1)return!1;if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:$(this).closest("[data-bi-id]").attr("data-bi-id"),contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(i){}Answers.Auth.SignInThen("SubscribeThread",$("#varThreadId").val())}});$(".unsubscribeThreadBtn",n).on("mousedown.threadactions",function(){var n=$(this),t;if(!n.hasClass("disabled")){if(t=Answers.Thread.onBeforePageChange(),t===!1)return!1;if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:"msgUnsubscribeBtn",contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(i){}Answers.Thread.Subscribe(n,$("#varThreadId").val(),!1)}});$(".thdEditBtn",n).on("mousedown.threadactions",function(n){$(this).hasClass("disabled")||Answers.Thread.Edit("EditThreadByOwner",null,null,n.target)});$(".thread-message-content-reply-action .thread-message-content-reply-action-button",n).on("click.threadactions",function(){var t=$(this).closest("div[msgId]"),n=t.find(".thread-message-content-reply-message"),i;if(n.is(":visible")){n.hide();return}if($.trim(n.text())!==""){n.show();return}i=t.attr("msgParentId");Answers.Thread.ShowReplyTo(t.attr("msgId"),i,n)});$(".message-up-vote-button",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("active")){var n=$(this).closest("div[msgId]").attr("msgId");Answers.Thread.Vote(n)}});$("button.message-voting-button-up",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("active")){var n=$("input#varForumId").val(),t=$("input#varThreadType").val(),i=$("input#varThreadId").val(),r=$(this).closest("div[msgId]").attr("msgId");Answers.Thread.MarkAsSolution(n,t,i,r)}});$("button.message-voting-button-down",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")&&!$(this).hasClass("active")){var n=$("input#varForumId").val(),t=$("input#varThreadType").val(),i=$("input#varThreadId").val(),r=$(this).closest("div[msgId]").attr("msgId");Answers.Thread.DownVote(n,t,i,r)}});$(".markAnsBtn, .unmarkAnsBtn",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")){var t=$(this).closest("div[msgId]").attr("msgId"),n=$(this).hasClass("markAnsBtn");if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:n?"markAnsBtn":"unmarkAnsBtn",contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(i){}Answers.Thread.MarkAnswer(t,n)}});$(".msgReplyBtn",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")){var n=$(this).closest("div[msgId]"),t=n.attr("msgId");Answers.Thread.Reply(t,!1,Answers.Thread.Id)}});$(".msgEditBtn",n).on("click.threadactions",function(){if(!$(this).hasClass("disabled")){$("#actReason").val("");var n=$(this).closest("div[msgId]").attr("msgId");Answers.Thread.EditReply($(this),n,"3")}});$(n).on("click.threadactions","#replySubmitBtn",function(){$(this).hasClass("disabled")||Answers.Thread.PostReply()});$(n).on("click.threadactions","#replyCancelBtn",function(){if(!$(this).hasClass("disabled")){$("#Escalate1On1Panel").hide();var n=Answers.Editor.Content("replyEditor");n.length>0&&!window.confirm(Answers.Res.ViewThread.WarningCancel)||($("#replySubmitBtn").removeClass("disabled"),Answers.Thread.HideReply())}});$(n).on("click.threadactions","#replyDeleteBtn",function(){var n,t;$(this).hasClass("disabled")||window.confirm(Answers.Res.ViewThread.DelPostWarning)&&(n=$.contains($("#threadQuestion").get(0),this),n?Answers.Thread.Delete():(t=$(this).closest("div[msgId]").attr("msgId"),Answers.Thread.DeleteReply(t)))});$(".message-user-info-link-history",n).on("mouseup.threadactions, keydown.threadactions",function(n){var t=this,i;$(t).hasClass("disabled")||(n.which===40?$(".info-panel-dropdown",t.closest(".message-user-info-text-and-badge")).length>0?$(".info-panel-dropdown .info-panel-close-button",t.closest(".message-user-info-text-and-badge")).focus():(i=$(".thread-message-content-body-text a",t.closest("div[msgid]")),i.length>0?i.first().focus():$(".message-action-container .c-button.msgReplyBtn",t.closest("div[msgid]")).focus()):Answers.Util.HandleActionsForDropdown(n,function(){var i=$(t).closest("div[msgId]");Answers.Thread.ViewHistory(t,i.attr("msgId"),n)}))});$("#thread-author-info-panel-"+r,n).html($(".userTags",n).html());i=$(".thread-author-info-toggle-button",n);i.length>0&&Answers.Util.ShowInfoPanel(i,{headerTitle:Answers.Res.Common.Accomplishments},!1);$(n).on("click.threadactions","#abuseEditAck",function(){var t=$("#abuseEditAck",n),i=t.prop("checked");i?($("#replySubmitBtn",n).removeClass("disabled"),$("#replySubmitBtn",n).removeAttr("tabindex"),t.attr("aria-checked",!0)):($("#replySubmitBtn",n).addClass("disabled"),$("#replySubmitBtn",n).attr("tabindex","-1"),t.attr("aria-checked",!1))});Answers.Thread.SetModeratorEventHandler&&Answers.Thread.SetModeratorEventHandler(n)},UnsetEventHandlers:function(n){$(n).off(".threadactions");$(".messageControls button,.thdJoinBtn,.message-up-vote-button,.subscribeThreadBtn,.unsubscribeThreadBtn,.thdEditBtn,.thread-message-content-reply-action,.ratingYBtn,.markAnsBtn,.unmarkAnsBtn,.msgReplyBtn,.msgReplyQtBtn,.msgEditBtn,#replySubmitBtn,#replyCancelBtn,#replyDeleteBtn,#replyWithQuote,.message-user-info-link-history,.abuseReport,.msgAbuseBtn,button.message-voting-button-up,button.message-voting-button-down",n).off(".threadactions")},ViewReplies:function(n){$("#threadBottomSection").removeClass("no-replies-section");$("#tabStripChevron").length>0&&$("#tabStripChevron").html($("#allRepliesLink").attr("aria-expanded")==="true"?"":"");var i=$("#threadReplies"),r=Answers.Thread.Id,u=Answers.Thread.AppendForumName(Answers.Res.ViewThread.ThreadReplyListUrl),t={threadId:r,pageNum:Answers.Thread.CurrentPage,sort:Answers.Thread.ThreadOptions.currentSort,sortDirection:Answers.Thread.ThreadOptions.currentDirection};return Answers.Thread.MessageId&&(t=$.extend(t,{messageId:Answers.Thread.MessageId})),n&&(n=!0),$.get({url:u,data:t,success:function(n){i.html(n);$("#allReplies",i).show();Answers.Thread.AfterRepliesHandlers()},cache:!n,dataType:"html",lightBoxOptions:{enabled:!1,containerSelector:"#threadMain"}})},AfterRepliesHandlers:function(){if(Answers.Mwf.CreateComponents(),Answers.Thread.UpdateHttpFud(),Answers.Thread.EnableNewTabPages(),Answers.ProfileImage.RefreshProfileImage(),$("#pagerTop .pagingControl").attr("aria-label","Top pager"),$("#pagerBottom .pagingControl").attr("aria-label","Bottom pager"),Answers.Thread.MessageId&&$("div[msgId='"+Answers.Thread.MessageId+"']").length>0){var n=$("div[msgId='"+Answers.Thread.MessageId+"']").offset();window.scrollTo(0,n.top)}Answers.Util.QueryString("rtAction")&&Answers.Thread.Id===Answers.Util.GetCookie("rtAction","threadId")&&Answers.Util.GetCookie("rtAction","msgId")&&Answers.Thread.ReplyBoxHandler(Answers.Thread.MessageId,!1,Answers.Thread.Id,"1");$("#allReplies .thread-message .thread-message-content-user-info-with-shading .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").click(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");return n.attr("aria-hidden",n.attr("aria-hidden")==="true"?"false":"true"),$(this).focus(),!1});$("#allReplies .thread-message .thread-message-content-user-info-with-shading .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$("#allReplies .thread-message .thread-message-content-user-info-with-shading .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").click(function(){});$("#allReplies .thread-message .thread-message-content-user-info-with-shading .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$("#allReplies .thread-message .thread-message-content-user-info .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").click(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");return n.attr("aria-hidden",n.attr("aria-hidden")==="true"?"false":"true"),$(this).focus(),!1});$("#allReplies .thread-message .thread-message-content-user-info .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$("#allReplies .thread-message .thread-message-content-user-info .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").click(function(){});$("#allReplies .thread-message .thread-message-content-user-info .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$("#allReplies .c-flyout.message-user-flyout .c-button.message-user-flyout-view-profile").mousedown(function(){window.location.href=$(this).attr("href")});$(".message-report-abuse-dialog-submit-button").off("click");$(".message-report-abuse-dialog-submit-button").on("click",function(){var t=$(this),n=t.data("messageid"),i="#reportAbuseDialog".concat(n),f=i.concat(" .thread-message-content-footer-message-report-abuse-dialog-dropdown"),r="#reportAbuseSelect".concat(n),u="#reportAbuseText".concat(n);$.post(Answers.Util.ReplaceUrlParam(Answers.Res.ReportMessageAbuseUrl,"forum",Answers.Thread.ForumShortName),{forum:Answers.Thread.ForumShortName,threadId:Answers.Thread.Id,messageId:n,abuseTypeId:$(r).val(),details:$(u).val(),antiForgeryKey:$("#_AntiForgeryKey").val()},function(r){if(t.prop("disabled",!1),r.IsError)$(i.concat(" .thread-message-content-footer-message-report-abuse-dialog-label-message")).text(r.ErrorMessage);else{t.prev().click();var u=$("#message-report-abuse-menu-"+n),f='<li role="menuitem" class="f-context-action-trigger" aria-haspopup="false" aria-disabled="true" data-bi-id="msgReportAbuseBtn">                             <span aria-label="'+Answers.Res.ViewThread.AbuseReported+'" title="'+Answers.Res.ViewThread.AbuseReported+'">                                 '+Answers.Res.ViewThread.AbuseReported+"                                 <\/span>                         <\/li>";u.parent().prev().after(f);u.parent().remove()}},"json")});$(".message-report-abuse-select").off("change");$(".message-report-abuse-select").on("change",function(){var t=$(this),i=t.parentsUntil("[role='dialog']"),n=t.val();n&&($('.thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeId="'+n+'"]',i).css("display","block"),$('.thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeId!="'+n+'"]',i).css("display","none"))});$(".thread-message-content-footer-message-report-abuse-dialog-text-area").off("input propertychange paste");$(".thread-message-content-footer-message-report-abuse-dialog-text-area").on("input propertychange paste",function(){var n=$(this),i=n.data("messageid"),t=$("#reportDetailsRemains"+i),r=n.val().length,u=parseInt(n.attr("maxlength")),f=u-r,e=t.attr("format");t.text(e.replace("{0}",f.toString()))});$(".show-prev-page-mobile, .prevPage").click(function(){var t,i,n,r;return($("ul",$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').parent()).attr("aria-hidden","true"),$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').attr("aria-expanded","false"),t=$(this),t.hasClass("disabled"))?!1:(i=Answers.Thread.onBeforePageChange(),i===!1)?!1:(Answers.Thread.CurrentPage=Answers.Thread.CurrentPage-1,history.pushState&&(n=Answers.Util.ReplaceUrlParam(window.location.href,"page",Answers.Thread.CurrentPage.toString()),window.history.pushState({path:n},"",n)),r=Answers.Thread.ViewReplies(),r.done(function(){$("html,body").animate({scrollTop:$("#allReplies").offset().top},"slow")}),!1)});$(".pageNumberLayout a").each(function(){$(this).click(function(){var t,n,i;return($("ul",$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').parent()).attr("aria-hidden","true"),$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').attr("aria-expanded","false"),t=Answers.Thread.onBeforePageChange(),t===!1)?!1:(Answers.Thread.CurrentPage=parseInt($(this).attr("data-value"),10),history.pushState&&(n=Answers.Util.ReplaceUrlParam(window.location.href,"page",Answers.Thread.CurrentPage.toString()),window.history.pushState({path:n},"",n)),i=Answers.Thread.ViewReplies(),i.done(function(){$("html,body").animate({scrollTop:$("#allReplies").offset().top},"slow")}),!1)})});$(".show-next-page-mobile, .nextPage").click(function(){var t,i,n,r;return($("ul",$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').parent()).attr("aria-hidden","true"),$('.moderation.c-navigation-menu .modButton[aria-expanded="true"]').attr("aria-expanded","false"),t=$(this),t.hasClass("disabled"))?!1:(i=Answers.Thread.onBeforePageChange(),i===!1)?!1:(Answers.Thread.CurrentPage=Answers.Thread.CurrentPage+1,history.pushState&&(n=Answers.Util.ReplaceUrlParam(window.location.href,"page",Answers.Thread.CurrentPage.toString()),window.history.pushState({path:n},"",n)),r=Answers.Thread.ViewReplies(),r.done(function(){$("html,body").animate({scrollTop:$("#allReplies").offset().top},"slow")}),!1)});Answers.Thread.SetEventHandler($("#threadReplies"));$("#allReplies .message-action-container-col-vote-and-ellipsis .c-context-menu button").each(function(){var n=0;$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:$(this).closest("[data-bi-id]").attr("data-bi-id"),contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(n){}});n++});$("#allReplies .message-action-container-col-mod button .panelMenu button").each(function(){var n=0;$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:$(this).closest("[data-bi-id]").attr("data-bi-id"),contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(n){}});n++});$("#allReplies .user-profile-image").each(function(){$(this).attr("data-bi-areaName",$(this).parent().closest("div[data-bi-area]").attr("data-bi-area"))});Answers.Thread.MessageId=undefined},CreateWaitIndicator:function(){var t=answersResDefined?Answers.Res.AjaxIndicatorDelayTime||1e3:1e3,n;$(document).ajaxStart(function(){$(".lightBox").fadeOut().remove()});$(document).ajaxSend(function(n,i,r){var u,f,e;r.lightBoxOptions&&r.lightBoxOptions.enabled&&(r.lightBoxOptions.containerSelector?u=$(r.lightBoxOptions.containerSelector):r.waitdata.threadId&&!r.waitdata.messageId?u=$("#thread-summary"):r.waitdata.messageId&&(f=r.waitdata.messageId,r.waitdata.replymessage&&(f=r.waitdata.replymessage),u=$('div[msgId="'+f+'"]'),u.attr("id")==="threadQuestion"&&(u=$("#thread-summary"))),u&&u.length&&(r.currentMessage=u,e=parseInt(u.attr("data-sendcount"),10)||0,u.attr("data-sendcount",++e),$(".lightBox",u).length===0&&(u.prepend("<div class='lightBox'>"+$("div#lightbox-wrapper").html()+"<\/div>"),$(".lightBox",u).hide().delay(t).fadeIn())))});n=function(n){n.currentMessage&&n.currentMessage.length&&n.currentMessage.attr("data-sendcount")&&n.currentMessage.attr("data-sendcount",parseInt(n.currentMessage.attr("data-sendcount"),10)-1)};$(document).ajaxSuccess(function(t,i,r){n(r);r.currentMessage&&r.currentMessage.length?r.currentMessage.attr("data-sendcount")&&r.currentMessage.attr("data-sendcount")!==0||$(".lightBox",r.currentMessage).fadeOut().remove():$(".lightBox").fadeOut().remove()});$(document).ajaxError(function(t,i,r){n(r);r.currentMessage&&r.currentMessage.length?r.currentMessage.attr("data-sendcount")&&r.currentMessage.attr("data-sendcount")!==0||$(".lightBox",r.currentMessage).fadeOut().remove():$(".lightBox").fadeOut().remove()});$(document).ajaxComplete(function(n,t,i){i.currentMessage&&i.currentMessage.length?i.currentMessage.attr("data-sendcount")&&i.currentMessage.attr("data-sendcount")!==0||$(".lightBox",i.currentMessage).fadeOut().remove():$(".lightBox").fadeOut().remove()});$(document).ajaxStop(function(){$(".lightBox").fadeOut().remove()});$.ajaxPrefilter(function(n,t){n.lightBoxOptions=t.lightBoxOptions||{};n.waitdata=t.data||{}})},WindowHasFocus:!0,ShowExpertsNotificationBar:function(){if(Answers.Experts&&Answers.Experts.UI&&Answers.Experts.UI.IsEnabled){var n=new Date(Answers.Experts.UI.ThreadCreatedDateInMilliseconds),t=(new Date-n)/1e3;document.referrer.indexOf("/newthread")>-1&&Answers.Thread.ThreadType==="QnA"&&t<60?Answers.Experts.UI.ShowLastResponseTime():Answers.Experts.UI.HideExpertsNotificationBar();$(window).focus(function(){Answers.Thread.WindowHasFocus=!0});$(window).blur(function(){Answers.Thread.WindowHasFocus=!1})}},hoverStartDate:new Date(9999,12,31),SuspendOnUnloadMsg:!1,onBeforePageChange:function(){if(!Answers.Thread.SuspendOnUnloadMsg&&$("#replyEditor").length>0){var n=Answers.Editor.Content("replyEditor");if(n&&n.length>0)return confirm(Answers.Res.Thread.CancelMessage)}},onBeforeUnload:function(){if(!Answers.Thread.SuspendOnUnloadMsg&&$("#replyEditor").length>0){var n=Answers.Editor.Content("replyEditor");if(n&&n.length>0)return""}}};$(document).ready(function(){var t,i,r,u,n;Answers.Thread.UpdateHttpFud();Answers.Thread.Initialize();$(document).keyup(function(n){n.which===27&&$("[aria-expanded=true]").not("#allRepliesLink").not("#AllReplies").attr("aria-expanded","false")});$("#LocalePopup #RegionList .language-list li a").each(function(){$(this).attr("href",Answers.Util.ReplaceUrlParam($(this).attr("href"),"url","home"))});$("#threadQuestion .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").click(function(){var n=$(this).parent().parent().parent().children(".message-user-flyout");return n.attr("aria-hidden",n.attr("aria-hidden")==="true"?"false":"true"),$(this).focus(),!1});$("#threadQuestion .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").blur(function(){var n=$(this).parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$("#threadQuestion .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").blur(function(){var n=$(this).parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$(".thread-message .thread-message-content-user-info-with-shading .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").click(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");return n.attr("aria-hidden",n.attr("aria-hidden")==="true"?"false":"true"),$(this).focus(),!1});$(".thread-message .thread-message-content-user-info-with-shading .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$(".thread-message .thread-message-content-user-info-with-shading .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").click(function(){});$(".thread-message .thread-message-content-user-info-with-shading .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$(".thread-message .thread-message-content-user-info .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").click(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");return n.attr("aria-hidden",n.attr("aria-hidden")==="true"?"false":"true"),$(this).focus(),!1});$(".thread-message .thread-message-content-user-info .message-user-info .user-profile-image .message-user-image.circular-display.avatar-size-small").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$(".thread-message .thread-message-content-user-info .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").click(function(){});$(".thread-message .thread-message-content-user-info .message-user-info .message-user-info-text .c-hyperlink.message-user-info-link.user-name-show-white-space").blur(function(){var n=$(this).parent().parent().parent().parent().children(".message-user-flyout");n.attr("aria-hidden","true")});$(".c-flyout.message-user-flyout .c-button.message-user-flyout-view-profile").mousedown(function(){window.location.href=$(this).attr("href")});$(".message-report-abuse-dialog-submit-button").click(function(){var t=$(this),n=t.data("messageid"),i="#reportAbuseDialog".concat(n),f=i.concat(" .thread-message-content-footer-message-report-abuse-dialog-dropdown"),r="#reportAbuseSelect".concat(n),u="#reportAbuseText".concat(n);$.post(Answers.Util.ReplaceUrlParam(Answers.Res.ReportMessageAbuseUrl,"forum",Answers.Thread.ForumShortName),{forum:Answers.Thread.ForumShortName,threadId:Answers.Thread.Id,messageId:n,abuseTypeId:$(r).val(),details:$(u).val(),antiForgeryKey:$("#_AntiForgeryKey").val()},function(r){if(t.prop("disabled",!1),r.IsError)$(i.concat(" .thread-message-content-footer-message-report-abuse-dialog-label-message")).text(r.ErrorMessage);else{t.prev().click();var u=$("#message-report-abuse-menu-"+n),f='<li role="menuitem" class="f-context-action-trigger" aria-haspopup="false" aria-disabled="true" data-bi-id="msgReportAbuseBtn">                             <span aria-label="'+Answers.Res.ViewThread.AbuseReported+'" title="'+Answers.Res.ViewThread.AbuseReported+'">                                 '+Answers.Res.ViewThread.AbuseReported+"                                 <\/span>                         <\/li>";u.parent().prev().after(f);u.parent().remove()}},"json")});$(".message-report-abuse-select").change(function(){var t=$(this),i=t.parentsUntil("[role='dialog']"),n=t.val();n&&($('.thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeId="'+n+'"]',i).css("display","block"),$('.thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeId!="'+n+'"]',i).css("display","none"))});$(".thread-message-content-footer-message-report-abuse-dialog-text-area").on("input propertychange paste",function(){var n=$(this),i=n.data("messageid"),t=$("#reportDetailsRemains"+i),r=n.val().length,u=parseInt(n.attr("maxlength")),f=u-r,e=t.attr("format");t.text(e.replace("{0}",f.toString()))});$("#threadQuestion .thread-message-content-footer-message-ellipsis-links .thread-message-content-footer-message-ellipsis-rss-link").mousedown(function(){var n=Answers.Thread.onBeforePageChange();if(n===!1)return!1;window.location.href=$(this).attr("href")});$(".thread-message-content-footer-message-report-abuse").mousedown(function(){var e=$(this),o=e.parent(),t=o.attr("msgId"),n="#reportAbuseDialog".concat(t),u=n.concat(" .thread-message-content-footer-message-report-abuse-dialog-dropdown"),s="#reportAbuseSelect".concat(t),r="#reportAbuseText".concat(t),h="#reportDetailsRemains".concat(t),f="#reportAbuseCancel".concat(t),i="#reportAbuseSubmit".concat(t);$(n).attr("aria-hidden","false");$(u).focusout(function(){var t=$(n.concat(" .thread-message-content-footer-message-report-abuse-dialog-dropdown",' [selected="selected"]')).attr("name");t&&($(n.concat(' .thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeName="',t,'"]')).css("display","block"),$(n.concat(' .thread-message-content-footer-message-report-abuse-dialog-dropdown-abuse-type-desc[abuseTypeName!="',t,'"]')).css("display","none"))});$(r).on("input propertychange paste",function(){var n=$(this).val().length,t=parseInt($(this).attr("maxlength")),i=t-n,r=$(h).attr("format");$(h).text(r.replace("{0}",i.toString()))});$(i).click(function(){$(i).prop("disabled",!0);$.post(Answers.Util.ReplaceUrlParam(Answers.Res.ReportMessageAbuseUrl,"forum",Answers.Thread.ForumShortName),{forum:Answers.Thread.ForumShortName,threadId:Answers.Thread.Id,messageId:t,abuseTypeId:$(s).find("[selected]").attr("id")||$($(s).children()[0]).attr("id"),details:$(r).val(),antiForgeryKey:$("#_AntiForgeryKey").val()},function(t){$(i).prop("disabled",!1);t.IsError?$(n.concat(" .thread-message-content-footer-message-report-abuse-dialog-label-message")).text(t.ErrorMessage):($(n).attr("aria-hidden","true"),e.css("display","none"),o.children(".thread-message-content-footer-message-report-abuse-alt").css("display","block"),$(i).unbind("click"),$(f).unbind("click"),$(u).unbind("focusout"),$(r).unbind("input propertychange paste"))},"json")});$(f).click(function(){$(n).attr("aria-hidden","true");$(i).unbind("click");$(f).unbind("click");$(u).unbind("focusout");$(r).unbind("input propertychange paste")})});$("#allRepliesLink").click(function(){return $(this).attr("aria-expanded",$(this).attr("aria-expanded")==="false"?"true":"false"),$("#AllReplies").attr("aria-expanded",$("#AllReplies").attr("aria-expanded")==="false"?"true":"false"),$("#tabStripChevron").length>0&&$("#tabStripChevron").html($("#allRepliesLink").attr("aria-expanded")==="true"?"":""),$("#threadReplies #allReplies").children().length===0&&Answers.Thread.TotalReplyCount>0?Answers.Thread.ViewReplies():$("#threadReplies #allReplies").children().length!==0&&($("#allReplies").toggle(),$("#pagerBottom").toggle()),!1});$(".message-action-container-col-vote-and-ellipsis .c-context-menu button").each(function(){var n=0;$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:$(this).closest("[data-bi-id]").attr("data-bi-id"),contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(n){}});n++});$(".message-action-container-col-mod button .panelMenu button").each(function(){var n=0;$(this).click(function(){if(window.awa&&window.awa.ct)try{window.awa.ct.capturePageAction($(this),{content:{contentId:$(this).closest("[data-bi-id]").attr("data-bi-id"),contentName:$.trim($(this).text()),areaName:$(this).closest("[data-bi-area]").attr("data-bi-area")}})}catch(n){}});n++});Answers.Thread.ThreadType=$("#varThreadType").val();Answers.Thread.SetEventHandler($("#threadfooter"));$("div[msgId]").each(function(n,t){Answers.Thread.SetEventHandler($(t))});window.onbeforeunload=Answers.Thread.onBeforeUnload;t=$("#escalationReason");t.attr("maxlength",answersResDefined?Answers.Res.ViewThread.EscalationMaxReasonLength.toString():"0");t.focus(function(){$("#removeEscalationErr").hide()});$("#escalationReason_remains").attr("format",answersResDefined?Answers.Res.ViewThread.CharRemain:"0");t.SetInputTextLength();$(".Escalate1On1Button").click(function(){$("#postForm").hide()});$("#pagerTop #goToPageNum").on({"input.viewthread":function(){$(this).blur().focus()},"keyup.viewthread":function(n){n.which!==13&&Answers.Util.ValidatePageOnlyNumbers(this,"#pagerTop")},"keypress.viewthread":function(n){if(n.which===13){Answers.Util.ValidatePageOnlyNumbers(this,"#pagerTop");var t=Answers.Util.ValidatePageValue(n,this.value,$(".currentPage").val(),$(".currentMaxPage").val(),"#pagerTop");return t>0&&Answers.Util.ReloadPage($("#goToPageLink").attr("href").replace("~pagenum~",t)),!1}}});$("#pagerBottom #goToPageNum").on({"input.viewthread":function(){$(this).blur().focus()},"keyup.viewthread":function(n){n.which!==13&&Answers.Util.ValidatePageOnlyNumbers(this,"#pagerBottom")},"keypress.viewthread":function(n){if(n.which===13){Answers.Util.ValidatePageOnlyNumbers(this,"#pagerBottom");var t=Answers.Util.ValidatePageValue(n,this.value,$(".currentPage").val(),$(".currentMaxPage").val(),"#pagerBottom");return t>0&&Answers.Util.ReloadPage($("#goToPageLink").attr("href").replace("~pagenum~",t)),!1}}});$("#sortOptions li a").on("click",function(){var n=$(this).parent().attr("id").split("_"),t=n[1],i=n[2],r;t!==undefined&&(Answers.Thread.ThreadOptions.currentSort=t,Answers.Thread.ThreadOptions.currentDirection=i===undefined?"Desc":i,Answers.Thread.CurrentPage=1,r=Answers.Thread.ViewReplies(),r.done(function(){$("html,body").animate({scrollTop:$("#allReplies").offset().top},"slow")}));$("#sortOptions").attr("aria-hidden","true");$("#threadListSelectedSort").text($(this).text());event.preventDefault()});$("#threadSideBarVirtualAgentLink").on("click",function(){var n=$("#threadSideBarVirtualAgentLink").data("url");return Answers.Util.OpenWindow(n,"contactSupport",560,630),!1});$(".user-profile-image").each(function(){$(this).attr("data-bi-area",$(this).parent().closest("div[data-bi-area]").attr("data-bi-area"))});Answers.Thread.CreateWaitIndicator();i=window.location.href.toLowerCase().indexOf("#lastreply")!==-1;Answers.Thread.IsShowPagedReplies||i||window.location.href.toLowerCase().indexOf("allreplies#tabs")!==-1&&Answers.Thread.TotalReplyCount>0||Answers.Thread.MessageId?(r=$("#allRepliesLink"),r.attr("aria-expanded",r.attr("aria-expanded")==="false"?"true":"false"),$("#AllReplies").attr("aria-expanded",$("#AllReplies").attr("aria-expanded")==="false"?"true":"false"),u=Answers.Thread.ViewReplies(),i&&u.done(function(){$("html,body").animate({scrollTop:$("#LastReply").offset().top},"slow")})):Answers.Thread.AfterRepliesHandlers();$("#allReplies").is(":visible")?$("#AllReplies").attr("aria-expanded","true"):$("#AllReplies").attr("aria-expanded","false");n=$("#currentMeta").val();answersUtilDefined&&(Answers.Util.UpdateCreateThreadLink("#AnsAskQuestionMenuItem",Answers.Thread.ForumShortName,n),Answers.Util.UpdateCreateThreadLink("#createQuestionMenu",Answers.Thread.ForumShortName,n),Answers.Util.UpdateCreateThreadLink("#createDiscussionMenu",Answers.Thread.ForumShortName,n),Answers.Util.UpdateCreateThreadLink("#createForumArticleMenu",Answers.Thread.ForumShortName,n),Answers.Util.UpdateLanguagePlaceholderInLinks(".message-user-info a",$("#varLocaleName").val()));Answers.Thread.ShowExpertsNotificationBar()});$(window).on("DOMContentLoaded load resize scroll",onFooterVisibleInViewPort(function(){}));
//# sourceMappingURL=bundle.thread-view.min.js.map